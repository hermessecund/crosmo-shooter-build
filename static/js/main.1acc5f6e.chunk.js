(this["webpackJsonpcrosmo-crafts"]=this["webpackJsonpcrosmo-crafts"]||[]).push([[0],{313:function(e,t){},321:function(e,t){},323:function(e,t){},365:function(e,t){},367:function(e,t){},391:function(e,t){},393:function(e,t){},405:function(e,t){},406:function(e,t){},420:function(e,t){},423:function(e,t){},435:function(e,t){},437:function(e,t){},533:function(e,t){},560:function(e,t,n){"use strict";n.r(t);n(179);var s,i,a=n(0),r=n.n(a),o=n(68),l=n.n(o),c=n(113),p=n(15),d=n(13),u=n(111),h=n(27),y=n(16),m=n(619),b=c.c,g=n(10),f=n(1),_=n.n(f),v=n(620),x=n(612),w=n(618),O=n(621),j=n(61),T="0x346804AC8AbC489B45F732F0fB1049AcB6af3338",E={mode:"regular",testnet:{rpcUrl:"https://cronos-testnet-3.crypto.org:8545/",chainId:338,chainIdHex:"0x152",chainName:"Cronos Testnet",chainType:"mainnet",nativeCurrency:{name:"CRO",symbol:"CRO",decimals:18},blockExplorerUrl:"https://cronos.crypto.org/explorer/testnet3/"},mainnet:{rpcUrl:"https://evm-cronos.crypto.org/",chainId:25,chainIdHex:"0x19",chainName:"Cronos Mainnet Beta",chainType:"mainnet",nativeCurrency:{name:"CRO",symbol:"CRO",decimals:18},blockExplorerUrl:"https://cronos.crypto.org/explorer/"}},S=function(e){var t=j.a.BigNumber.from(e);return parseInt(t.toString())},A=function(e){return new Promise((function(t){return setTimeout(t,e)}))},k=function(){var e=Object(g.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:E.testnet.chainIdHex}]});case 3:e.next=10;break;case 5:return e.prev=5,e.t0=e.catch(0),console.log("error in switchNetwork",e.t0),e.next=10,window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:E.testnet.chainIdHex,chainName:E.testnet.chainName,rpcUrls:[E.testnet.rpcUrl],nativeCurrency:E.testnet.nativeCurrency,blockExplorerUrls:[E.testnet.blockExplorerUrl]}]});case 10:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(g.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.ethereum.request({method:"eth_chainId"});case 3:if(e.sent===E.testnet.chainIdHex){e.next=9;break}return e.next=7,k();case 7:return e.next=9,A(2e3);case 9:return e.next=11,window.ethereum.request({method:"eth_requestAccounts"});case 11:return t=e.sent,e.t0=t[0],e.t1=new j.a.providers.Web3Provider(window.ethereum),e.t2=new j.a.providers.JsonRpcProvider(E.testnet.rpcUrl),e.t3=S,e.next=18,window.ethereum.request({method:"eth_chainId"});case 18:return e.t4=e.sent,e.t5=(0,e.t3)(e.t4),e.abrupt("return",{walletProviderName:"metamask",address:e.t0,browserWeb3Provider:e.t1,serverWeb3Provider:e.t2,connected:!0,chainId:e.t5});case 23:return e.prev=23,e.t6=e.catch(0),console.log("error in connect",e.t6),e.abrupt("return",null);case 27:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(){return e.apply(this,arguments)}}(),M=n(22),R=n(293),I=function(){var e=Object(g.a)(_.a.mark((function e(){var t,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,localStorage.clear(),t=new R.a({rpc:Object(M.a)({},E.testnet.chainId,E.testnet.rpcUrl),chainId:E.testnet.chainId}),e.next=5,t.enable();case 5:if(n=new j.a.providers.Web3Provider(t),t.chainId===E.testnet.chainId){e.next=9;break}return window.alert("Switch your Wallet to blockchain network "+E.testnet.chainName),e.abrupt("return",null);case 9:return e.next=11,n.listAccounts();case 11:return e.t0=e.sent[0],e.t1=n,e.t2=new j.a.providers.JsonRpcProvider(E.testnet.rpcUrl),e.t3=t,e.t4=t.chainId,e.abrupt("return",{walletProviderName:"walletconnect",address:e.t0,browserWeb3Provider:e.t1,serverWeb3Provider:e.t2,wcProvider:e.t3,connected:!0,chainId:e.t4});case 19:return e.prev=19,e.t5=e.catch(0),e.abrupt("return",null);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(){return e.apply(this,arguments)}}(),P=n(3),B={fontSize:"25px",color:"var(--color-yellow)"},C={marginTop:2,fontSize:"19px",color:"#280D5f",background:"wheat","&:hover":{background:"rgba(253,218,158,0.8)"},padding:"10px 30px",display:"flex",justifyContent:"space-between"},U=function(e){var t=null,n=function(){var n=Object(g.a)(_.a.mark((function n(s){return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.setOpen(!1),n.t0=s,n.next="metamask"===n.t0?4:"walletconnect"===n.t0?8:12;break;case 4:return n.next=6,L();case 6:return t=n.sent,n.abrupt("break",15);case 8:return n.next=10,I();case 10:return t=n.sent,n.abrupt("break",15);case 12:return n.next=14,L();case 14:t=n.sent;case 15:null!==t&&e.setWallet(t);case 16:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(P.jsx)("div",{children:Object(P.jsx)(x.a,{keepMounted:!0,open:e.open,onClose:function(){return e.setOpen(!1)},"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",children:Object(P.jsxs)(v.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxWidth:350,width:"70%",backgroundColor:"rgba(40, 13, 95, 0.9)",boxShadow:"0px 11px 15px -7px rgb(255 255 255 / 20%), 0px -4px 10px 2px rgb(255 255 255 / 14%), 0px 9px 46px 8px rgb(255 255 255 / 12%);",borderRadius:5,p:4},children:[Object(P.jsx)(O.a,{id:"keep-mounted-modal-title",variant:"h6",component:"h2",sx:B,children:"Connect Wallet"}),Object(P.jsxs)(w.a,{fullWidth:!0,sx:C,onClick:function(){return n("metamask")},children:[Object(P.jsx)("img",{src:"assets/images/metamask.svg",width:"30",height:"30",style:{marginRight:10}}),"Metamask"]}),Object(P.jsxs)(w.a,{fullWidth:!0,sx:C,onClick:function(){return n("walletconnect")},children:[Object(P.jsx)("img",{src:"assets/images/walletconnect.svg",width:"30",height:"30",style:{marginRight:10}}),"Wallet Connect"]})]})})})},N=y.b.div(s||(s=Object(d.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin: 30px 50px;\n  align-items: flex-start;\n\n  img.logo {\n    width: 85px;\n    height: 87px;\n  }\n"]))),D=y.b.div(i||(i=Object(d.a)(["\n  background: url('assets/images/btn_connect.png');\n  background-size: contain;\n  width: 250px;\n  height: 47px;\n  color: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  font-size: 17px;\n"]))),F=function(e){var t=e.account,n=e.setWallet,s=e.setBg,i=Object(a.useState)(!1),r=Object(p.a)(i,2),o=r[0],l=r[1];return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(N,{children:[Object(P.jsx)(u.b,{to:"/",onClick:function(){return s("bg_main")},children:Object(P.jsx)("img",{className:"logo",src:"assets/images/logo_yellow.png",alt:"logo"})}),Object(P.jsx)(D,{onClick:function(){!t&&l(!0)},children:t?function(e){return e.slice(0,7)+"..."+e.slice(38,42)}(t):"CONNECT YOUR WALLET"})]}),Object(P.jsx)(U,{open:o,setOpen:l,setWallet:n})]})},z=n(42),V=n(69),Y={gamePros:{screenWidth:800,screenHeight:600,padding:30,introNewEnemyDelay:2e3,endLevelDelay:1500},graphicAssets:{background:{URL:"assets/images/bg_shooter.png",name:"background"},particles:{URL:"assets/images/particles.png",data:"assets/images/particle_orbs.json",name:"particles"},shipWhite:{URL:"assets/images/ship_White.png",name:"shipWhite"},shipPink:{URL:"assets/images/ship_Pink.png",name:"shipPink"},shipGold:{URL:"assets/images/ship_Gold.png",name:"shipGold"},shipBlack:{URL:"assets/images/ship_Black.png",name:"shipBlack"},shipBlue:{URL:"assets/images/ship_Blue.png",name:"shipBlue"},shipGreen:{URL:"assets/images/ship_Green.png",name:"shipGreen"},shipGrey:{URL:"assets/images/ship_Grey.png",name:"shipGrey"},shipHolographic:{URL:"assets/images/ship_Holographic.png",name:"shipHolographic"},shipRed:{URL:"assets/images/ship_Red.png",name:"shipRed"},shipTrails:{URL:"assets/images/ship_trails.png",name:"shipTrails"},bulletNormal:{URL:"assets/images/bullet_normal.png",name:"bulletNormal"},bulletAtomic:{URL:"assets/images/bullet_atomic.png",name:"bulletAtomic"},bulletUnlimited:{URL:"assets/images/bullet_unlimited.png",name:"bulletUnlimited"},bulletDouble:{URL:"assets/images/bullet_normal.png",name:"bulletDouble"},bulletTriple:{URL:"assets/images/bullet_normal.png",name:"bulletTriple"},bulletVolley:{URL:"assets/images/bullet_normal.png",name:"bulletVolley"},bulletLazer:{URL:"assets/images/bullet_lazer.png",name:"bulletLazer"},bulletExplose:{URL:"assets/images/bullet_explosive.png",name:"bulletExplose"},bulletRegion:{URL:"assets/images/bullet_region.png",name:"bulletRegion"},asteroidFirstL:{URL:"assets/images/asteroid_first_large.png",name:"asteroidFirstL"},asteroidFirstS:{URL:"assets/images/asteroid_first_small.png",name:"asteroidFirstS"},asteroidSecondL:{URL:"assets/images/asteroid_second_large.png",name:"asteroidSecondL"},asteroidSecondS:{URL:"assets/images/asteroid_second_small.png",name:"asteroidSecondS"},airdropRapid:{URL:"assets/images/airdrop_rapid.png",name:"airdropRapid"},airdropDouble:{URL:"assets/images/airdrop_double.png",name:"airdropDouble"},airdropTriple:{URL:"assets/images/airdrop_triple.png",name:"airdropTriple"},airdropBurst:{URL:"assets/images/airdrop_burst.png",name:"airdropBurst"},airdropExplosive:{URL:"assets/images/airdrop_explosive.png",name:"airdropExplosive"},airdropLazer:{URL:"assets/images/airdrop_lazer.png",name:"airdropLazer"},airdropRocket:{URL:"assets/images/airdrop_rocket.png",name:"airdropRocket"},airdropLife:{URL:"assets/images/airdrop_life.png",name:"airdropLife"},airdropShield:{URL:"assets/images/airdrop_shield.png",name:"airdropShield"},shield:{URL:"assets/images/shield.png",name:"shield"},enemyFirst:{URL:"assets/images/enemy_1.png",name:"enemyFirst"},enemySecond:{URL:"assets/images/enemy_2.png",name:"enemySecond"},enemyBullet:{URL:"assets/images/bullet_enemy.png",name:"enemyBullet"},rocketFirst:{URL:"assets/images/rocket_1.png",name:"rocketFirst"},rocketSecond:{URL:"assets/images/rocket_2.png",name:"rocketSecond"},rocketThird:{URL:"assets/images/rocket_3.png",name:"rocketThird"},rocketFourth:{URL:"assets/images/rocket_4.png",name:"rocketFourth"},rocketBullet:{URL:"assets/images/bullet_boss.png",name:"rocketBullet"},lifeEmpty:{URL:"assets/images/life_empty.png",name:"lifeEmpty"},lifeFull:{URL:"assets/images/life_full.png",name:"lifeFull"},lazerEffectParticle:{URL:"assets/images/lazer_effect.png",data:"assets/images/particle_lazer.json",name:"lazerEffectParticle"}},soundAssets:{bg:{URL:"assets/sounds/bg.mp3",name:"bg"},fire:{URL:["assets/sounds/fire.m4a","assets/sounds/fire.ogg"],name:"fire"},destroyed:{URL:["assets/sounds/destroyed.m4a","assets/sounds/destroyed.ogg"],name:"destroyed"},engine:{URL:"assets/sounds/engine.mp3",name:"engine"},shipExplose:{URL:"assets/sounds/ship_explode.wav",name:"shipExplose"}},shipPros:{acceleration:200,drag:100,maxVelocity:200,angularVelocity:180,startingLives:5,blinkDelay:.2},bulletPros:{NORMAL_BULLET:{maxBullets:5,fireCooldown:.4,passiveRegenCooldown:1,speed:300,lifespan:2e3},UNLIMITED_BULLET:{maxBullets:99,fireCooldown:.4,passiveRegenCooldown:.1,speed:300,lifespan:2e3},DOUBLE_BULLET:{maxBullets:5,fireCooldown:.4,passiveRegenCooldown:1,speed:300,lifespan:2e3},TRIPLE_BULLET:{maxBullets:5,fireCooldown:.4,passiveRegenCooldown:1,speed:300,lifespan:2e3},VOLLEY_BULLET:{maxBullets:5,fireCooldown:.4,passiveRegenCooldown:1,speed:300,lifespan:2e3},LAZER_BULLET:{maxBullets:10,fireCooldown:.5,passiveRegenCooldown:1,speed:450,lifespan:2e3},EXPLOSIVE_BULLET:{maxBullets:5,fireCooldown:.8,passiveRegenCooldown:1,speed:250,lifespan:2e3},ATOMIC_BULLET:{maxBullets:5,fireCooldown:.4,passiveRegenCooldown:1,speed:300,lifespan:2e3}},asteroidPros:{startingAsteroids:3,maxAsteroids:12,incrementAsteroids:2,minSpeed:60,maxSpeed:100},enemyPros:{minSpeed:60,maxSpeed:80,startingEnemies:0,incrementEnemies:1,startingBoss:0,incrementBoss:1,bossLives:10,angVelRange:40},enemyBulletPros:{maxBullets:999,fireCooldown:3,passiveRegenCooldown:0,normalSpeed:120,velocity:{x:180,y:180},lives:2,bossSpeed:180,bossFireCooldown:.8},airdropPros:{percentAsteroid:5,percentEnemy:70,percentBoss:100,duration:15,lifetime:10,alertTime:7},fontAssets:{endLevel:{fontFamily:"Fast Hand",fontSize:"30px",color:"#ffffff"},scoreLabel:{fontFamily:"Fast Hand",fontSize:"30px",color:"#24c2bc"},scoreText:{fontFamily:"Fast Hand",fontSize:"30px",color:"#ffffff"},levelLabel:{fontFamily:"Fast Hand",fontSize:"20px",color:"#ff601a"},levelText:{fontFamily:"Fast Hand",fontSize:"20px",color:"#ffffff"},gameoverFontStyle:{fontFamily:"Fast Hand",fill:"#ff601a",fontSize:"50px",align:"center"}}};function G(e,t){return e+Math.random()*(t-e)}function H(e){var t=e;return t.length>9&&t.endsWith("-ss")&&(t=t.substring(0,t.length-3)),t.replace(/[^0-9a-z]/gi,"G")}var W,K=Math.PI/4,X={FIRST:{LARGE:Y.graphicAssets.asteroidFirstL.name,SMALL:Y.graphicAssets.asteroidFirstS.name},SECOND:{LARGE:Y.graphicAssets.asteroidSecondL.name,SMALL:Y.graphicAssets.asteroidSecondS.name}},J="FIRST",q="SECOND",Z="LARGE",$="SMALL",Q={White:Y.graphicAssets.shipWhite.name,Pink:Y.graphicAssets.shipPink.name,Gold:Y.graphicAssets.shipGold.name,Black:Y.graphicAssets.shipBlack.name,Blue:Y.graphicAssets.shipBlue.name,Green:Y.graphicAssets.shipGreen.name,Grey:Y.graphicAssets.shipGrey.name,Holographic:Y.graphicAssets.shipHolographic.name,Red:Y.graphicAssets.shipRed.name},ee="NORMAL_BULLET",te="UNLIMITED_BULLET",ne="DOUBLE_BULLET",se="TRIPLE_BULLET",ie="VOLLEY_BULLET",ae="LAZER_BULLET",re="EXPLOSIVE_BULLET",oe="ATOMIC_BULLET",le={NORMAL_BULLET:Y.graphicAssets.bulletNormal.name,UNLIMITED_BULLET:Y.graphicAssets.bulletUnlimited.name,DOUBLE_BULLET:Y.graphicAssets.bulletDouble.name,TRIPLE_BULLET:Y.graphicAssets.bulletTriple.name,VOLLEY_BULLET:Y.graphicAssets.bulletVolley.name,LAZER_BULLET:Y.graphicAssets.bulletLazer.name,EXPLOSIVE_BULLET:Y.graphicAssets.bulletExplose.name,REGION_BULLET:Y.graphicAssets.bulletRegion.name,ATOMIC_BULLET:Y.graphicAssets.bulletAtomic.name},ce={UNLIMITED_BULLET:Y.graphicAssets.airdropRapid.name,DOUBLE_BULLET:Y.graphicAssets.airdropDouble.name,TRIPLE_BULLET:Y.graphicAssets.airdropTriple.name,VOLLEY_BULLET:Y.graphicAssets.airdropBurst.name,LAZER_BULLET:Y.graphicAssets.airdropLazer.name,EXPLOSIVE_BULLET:Y.graphicAssets.airdropExplosive.name,ATOMIC_BULLET:Y.graphicAssets.airdropRocket.name,LIFE:Y.graphicAssets.airdropLife.name,SHIELD:Y.graphicAssets.airdropShield.name},pe="UNLIMITED_BULLET",de="DOUBLE_BULLET",ue="TRIPLE_BULLET",he="VOLLEY_BULLET",ye="LAZER_BULLET",me="EXPLOSIVE_BULLET",be="ATOMIC_BULLET",ge="LIFE",fe="SHIELD",_e={NORMAL_FIRST:Y.graphicAssets.enemyFirst.name,NORMAL_SECOND:Y.graphicAssets.enemySecond.name,BOSS_FIRST:Y.graphicAssets.rocketFirst.name,BOSS_SECOND:Y.graphicAssets.rocketSecond.name,BOSS_THIRD:Y.graphicAssets.rocketThird.name,BOSS_FOURTH:Y.graphicAssets.rocketFourth.name},ve="NORMAL_FIRST",xe="NORMAL_SECOND",we="NORMAL_BOTH",Oe="BOSS_FIRST",je="BOSS_SECOND",Te="BOSS_THIRD",Ee="BOSS_FOURTH",Se={0:"ZERO",1:"BRONZE",2:"SILVER",3:"GOLD",4:"DIAMOND",5:"PLATINUM"},Ae={0:0,1:1e3,2:4e3,3:1e4,4:24e3,5:44e3},ke={0:0,1:1,2:2,3:2,4:2,5:3},Le={0:1,1:.95,2:.9,3:.85,4:.8,5:.75},Me={0:0,1:0,2:0,3:1,4:1,5:2},Re={0:1,1:1,2:1,3:1,4:1.25,5:1.5},Ie={easy:{STARTING_ASTEROIDS:0,INCREASE_ASTEROIDS:0,MAX_ASTEROIDS:0,MIN_ASTEROID_SPEED:1,MAX_ASTEROID_SPEED:1,STARTING_ENEMIES:0,INCREASE_ENEMIES:0,MIN_ENEMY_SPEED:1,MAX_ENEMY_SPEED:1},medium:{STARTING_ASTEROIDS:2,INCREASE_ASTEROIDS:0,MAX_ASTEROIDS:5,MIN_ASTEROID_SPEED:1.1,MAX_ASTEROID_SPEED:1.1,STARTING_ENEMIES:2,INCREASE_ENEMIES:0,MIN_ENEMY_SPEED:1,MAX_ENEMY_SPEED:1},hard:{STARTING_ASTEROIDS:2,INCREASE_ASTEROIDS:1,MAX_ASTEROIDS:10,MIN_ASTEROID_SPEED:1.1,MAX_ASTEROID_SPEED:1.1,STARTING_ENEMIES:2,INCREASE_ENEMIES:1,MIN_ENEMY_SPEED:1.1,MAX_ENEMY_SPEED:1.1},extreme:{STARTING_ASTEROIDS:2,INCREASE_ASTEROIDS:2,MAX_ASTEROIDS:18,MIN_ASTEROID_SPEED:1.25,MAX_ASTEROID_SPEED:1.25,STARTING_ENEMIES:2,INCREASE_ENEMIES:2,MIN_ENEMY_SPEED:1.2,MAX_ENEMY_SPEED:1.2}},Pe=Object(V.b)({name:"user",initialState:{sessionId:"",videoConnected:!1,loggedIn:!1,gameOver:!1,tokenId:-1,shipName:"",tier:0,playerNameMap:new Map},reducers:{setSessionId:function(e,t){e.sessionId=t.payload},setVideoConnected:function(e,t){e.videoConnected=t.payload},setLoggedIn:function(e,t){e.loggedIn=t.payload},setGameOver:function(e,t){e.gameOver=t.payload},setTokenId:function(e,t){e.tokenId=t.payload},setShipName:function(e,t){e.shipName=t.payload},setTier:function(e,t){e.tier=t.payload},setPlayerNameMap:function(e,t){e.playerNameMap.set(H(t.payload.id),t.payload.name)},removePlayerNameMap:function(e,t){e.playerNameMap.delete(H(t.payload))}}}),Be=Pe.actions,Ce=Be.setSessionId,Ue=(Be.setVideoConnected,Be.setLoggedIn,Be.setGameOver),Ne=Be.setTokenId,De=Be.setShipName,Fe=Be.setTier,ze=Be.setPlayerNameMap,Ve=Be.removePlayerNameMap,Ye=Pe.reducer,Ge=Object(V.b)({name:"wallet",initialState:{account:"",craftInstance:null,shooterInstance:null,tokenInstance:null,pilotInstance:null},reducers:{setAccount:function(e,t){e.account=t.payload},setCraftInstance:function(e,t){e.craftInstance=t.payload},setShooterInstance:function(e,t){e.shooterInstance=t.payload},setTokenInstance:function(e,t){e.tokenInstance=t.payload},setPilotInstance:function(e,t){e.pilotInstance=t.payload}}}),He=Ge.actions,We=(He.setAccount,He.setCraftInstance,He.setShooterInstance,He.setTokenInstance,He.setPilotInstance,Ge.reducer);!function(e){e.LOBBY="lobby",e.PUBLIC="crosmo",e.CUSTOM="custom"}(W||(W={}));var Ke=function(e){return e.name===W.CUSTOM},Xe=Object(V.b)({name:"room",initialState:{lobbyJoined:!1,roomJoined:!1,roomId:"",roomName:"",roomDescription:"",availableRooms:new Array},reducers:{setLobbyJoined:function(e,t){e.lobbyJoined=t.payload},setRoomJoined:function(e,t){e.roomJoined=t.payload},setJoinedRoomData:function(e,t){e.roomId=t.payload.id,e.roomName=t.payload.name,e.roomDescription=t.payload.description},setAvailableRooms:function(e,t){e.availableRooms=t.payload.filter((function(e){return Ke(e)}))},addAvailableRooms:function(e,t){if(Ke(t.payload.room)){var n=e.availableRooms.findIndex((function(e){return e.roomId===t.payload.roomId}));-1!==n?e.availableRooms[n]=t.payload.room:e.availableRooms.push(t.payload.room)}},removeAvailableRooms:function(e,t){e.availableRooms=e.availableRooms.filter((function(e){return e.roomId!==t.payload}))}}}),Je=Xe.actions,qe=Je.setLobbyJoined,Ze=Je.setRoomJoined,$e=Je.setJoinedRoomData,Qe=Je.setAvailableRooms,et=Je.addAvailableRooms,tt=Je.removeAvailableRooms,nt=Xe.reducer,st=Object(V.b)({name:"phaser",initialState:{bulletName:"",bulletDuration:0,shieldName:"",shieldDuration:0,bulletChanged:!1,shieldChanged:!1,hasAtomic:!1,isExist:!1},reducers:{setBulletName:function(e,t){e.bulletName=t.payload,e.bulletChanged=!e.bulletChanged},setBulletDuration:function(e,t){e.bulletDuration=t.payload},setShieldName:function(e,t){e.shieldName=t.payload,e.shieldChanged=!e.shieldChanged},setShieldDuration:function(e,t){e.shieldDuration=t.payload},setHasAtomic:function(e,t){e.hasAtomic=t.payload},setIsExist:function(e,t){e.isExist=t.payload}}}),it=st.actions,at=it.setBulletName,rt=it.setBulletDuration,ot=it.setShieldName,lt=it.setShieldDuration,ct=it.setHasAtomic,pt=it.setIsExist,dt=st.reducer;Object(z.d)();var ut,ht,yt,mt,bt,gt,ft,_t,vt,xt,wt,Ot,jt,Tt,Et=Object(V.a)({reducer:{user:Ye,wallet:We,room:nt,phaser:dt},middleware:function(e){return e({serializableCheck:!1})}}),St=n(90),At=n.n(St),kt="https://crosmo-crafts-backend.onrender.com/api",Lt={login:function(){var e=Object(g.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,At.a.post("".concat(kt,"/auth/login"),{account:t});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Mt={auth:Lt,score:{saveScore:function(e,t,n,s){return At.a.post("".concat(kt,"/score/saveScore"),{account:e,tokenId:t,shipName:n,tier:s},{headers:{token:!!localStorage.getItem("jwt")&&JSON.parse(localStorage.getItem("jwt")).token}})},getScores:function(e,t){return At.a.post("".concat(kt,"/score/getScores"),{period:e,league:t})}}},Rt=n(34),It=n(173),Pt=n(622),Bt=n(614),Ct=n(609),Ut=n(610),Nt=n(608),Dt=(n(556),n(557),n(77)),Ft=n(616),zt=n(613),Vt=r.a.forwardRef((function(e,t){return Object(P.jsx)(zt.a,Object(Dt.a)({elevation:6,ref:t,variant:"filled"},e))})),Yt=function(e){var t=e.noticeMsg,n=e.showNotice,s=e.setShowNotice,i=e.severity,a=function(e,t){"clickaway"!==t&&s(!1)};return Object(P.jsx)(Ft.a,{open:n,autoHideDuration:5e3,onClose:a,anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(P.jsx)(Vt,{onClose:a,severity:i,sx:{width:"100%"},children:t})})},Gt=y.b.div(ut||(ut=Object(d.a)(["\n  height: 100%;\n  width: 100%;\n  max-width: 1700px;\n  margin: 0 auto;\n}\n"]))),Ht=y.b.div(ht||(ht=Object(d.a)(["\n  height: calc(100vh - 250px);\n  width: 88%;\n  max-width: 980px;\n  margin: 0 auto;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),Wt=y.b.div(yt||(yt=Object(d.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  min-height: 150px;\n"]))),Kt=y.b.div(mt||(mt=Object(d.a)(["\n  width: 70%;\n  max-width: 600px;\n"]))),Xt=y.b.div(bt||(bt=Object(d.a)(["\n  text-align: center;\n  margin-bottom: 10px;\n\n  img {\n    width: 450px;\n  }\n"]))),Jt=y.b.h3(gt||(gt=Object(d.a)(["\n  font-size: 25px;\n  color: white;\n  text-align: center;\n  font-weight: normal;\n"]))),qt=y.b.div(ft||(ft=Object(d.a)(["\n  display: flex;\n  justify-content: space-between;\n"]))),Zt=y.b.div(_t||(_t=Object(d.a)(["\n  background: url('assets/images/avatar_modal_bg.png');\n  width: 444px;\n  height: 420px;\n  max-height: 450px;\n  background-size: contain;\n  margin: 0 auto;\n  display: flex;\n\n  --swiper-navigation-size: 24px;\n\n  .swiper-container {\n    width: 410px;\n    height: 430px;\n    border-radius: 8px;\n    overflow: hidden;\n  }\n\n  .swiper-container .swiper-button-next::after,\n  .swiper-container .swiper-button-prev::after {\n    content: none;\n  }\n\n  .swiper-slide {\n    height: 430px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .swiper-slide img.ship {\n    display: block;\n    width: 190px;\n    margin: 0 auto;\n    object-fit: contain;\n  }\n\n  .swiper-slide img.shield {\n    position: absolute;\n    width: 252px;\n    top: 106px;\n    left: 78px;\n  }\n  \n  .swiper-slide img.broken {\n    position: absolute;\n    width: 190px;\n    top: 119px;\n    left: 110px;\n  }\n  \n  .swiper-slide img.tier {\n    position: absolute;\n    width: 80px;\n    top: 69px;\n    right: 10px;\n  }\n\n  .swiper-slide p.name {\n    position: absolute;\n    top: 27px;\n    left: 50%;\n    transform: translate(-50%, 0);\n    font-size: 16px;\n    color: var(--color-yellow);\n  }\n\n  .swiper-slide p.tier {\n    position: absolute;\n    left: 50%;\n    bottom: 35px;\n    transform: translate(-50%, 0);\n    font-size: 16px;\n    color: var(--color-yellow);\n  }\n"]))),$t=y.b.div(vt||(vt=Object(d.a)(["\n  display: flex;\n  align-items: center;\n  \n  img {\n    width: 50px;\n    height: 55px;\n    cursor: pointer;\n  }\n"]))),Qt=y.b.div(xt||(xt=Object(d.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n  height: 300px;\n  flex-direction: column;\n  margin-top: 65px;\n\n  color: var(--color-yellow);\n"]))),en=y.b.div(wt||(wt=Object(d.a)(["\n  font-size: 23px;\n  text-align: center;\n"]))),tn=y.b.div(Ot||(Ot=Object(d.a)(["\n  padding: 8px 10px;\n  border-radius: 8px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 25px;\n  background: rgba(40,13,95,1);\n  color: white;\n  cursor: pointer;\n"]))),nn=y.b.div(jt||(jt=Object(d.a)(["\n  background: url('assets/images/avatar_join.png');\n  font-size: 30px;\n  background-size: contain;\n  background-repeat: no-repeat;\n  width: 132px;\n  height: 50px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: white;\n  cursor: pointer;\n"]))),sn=n(32),an=n.n(sn),rn=n(7),on=n(6),ln=n(8),cn=n(9),pn=n(290),dn=n.n(pn),un=n(291);!function(e){e[e.UPDATE_PLAYER=0]="UPDATE_PLAYER",e[e.UPDATE_SCORE=1]="UPDATE_SCORE",e[e.UPDATE_PLAYER_NAME=2]="UPDATE_PLAYER_NAME",e[e.READY_TO_CONNECT=3]="READY_TO_CONNECT",e[e.SEND_ROOM_DATA=4]="SEND_ROOM_DATA"}(Tt||(Tt={}));var hn,yn=new an.a.Events.EventEmitter;!function(e){e.PLAYER_JOINED="player-joined",e.PLAYER_UPDATED="player-updated",e.PLAYER_LEFT="player-left",e.PLAYER_DISCONNECTED="player-disconnected",e.MY_PLAYER_READY="my-player-ready",e.MY_PLAYER_NAME_CHANGE="my-player-name-change",e.MY_PLAYER_TEXTURE_CHANGE="my-player-texture-change",e.ITEM_USER_ADDED="item-user-added",e.ITEM_USER_REMOVED="item-user-removed",e.TOKEN_REWARDED="token-rewarded",e.CAN_PLAY="can-play",e.SHIP_DAMAGED="ship-damaged",e.GOTO_MAINMENU="goto-mainmenu",e.TOGGLE_SOUNDS="toggle-sounds",e.EXIST_GAME="exit-game"}(hn||(hn={}));var mn=function(){function e(){Object(rn.a)(this,e),this._client=void 0,this._room=void 0,this._lobby=void 0,this._mySessionId=void 0;this._client=new un.Client("wss://crosmo-crafts-backend.onrender.com"),this.joinLobbyRoom().then((function(){Et.dispatch(qe(!0))})),yn.on(hn.MY_PLAYER_NAME_CHANGE,this.updatePlayerName,this),yn.on(hn.MY_PLAYER_TEXTURE_CHANGE,this.updatePlayer,this)}return Object(on.a)(e,[{key:"joinLobbyRoom",value:function(){var e=Object(g.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._client.joinOrCreate(W.LOBBY);case 2:this._lobby=e.sent,this._lobby.onMessage("rooms",(function(e){console.log("rooms in network",e),Et.dispatch(Qe(e))})),this._lobby.onMessage("+",(function(e){var t=Object(p.a)(e,2),n=t[0],s=t[1];console.log("roomId in network",n),console.log("room in network",s),Et.dispatch(et({roomId:n,room:s}))})),this._lobby.onMessage("-",(function(e){console.log("roomId in network",e),Et.dispatch(tt(e))}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"joinOrCreatePublic",value:function(){var e=Object(g.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._client.joinOrCreate(W.PUBLIC);case 2:this._room=e.sent,this.initialize();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initialize",value:function(){var e=this;this._room&&(this._lobby.leave(),this._mySessionId=this._room.sessionId,Et.dispatch(Ce(this._room.sessionId)),this._room.state.players.onAdd=function(t,n){n!==e._mySessionId&&(t.onChange=function(e){e.forEach((function(e){var s=e.field,i=e.value;yn.emit(hn.PLAYER_UPDATED,s,i,n),"name"===s&&""===i&&(yn.emit(hn.PLAYER_JOINED,t,n),Et.dispatch(ze({id:n,name:i})))}))})},this._room.state.players.onRemove=function(e,t){console.log("key in this._room.state.players.onRemove",t),yn.emit(hn.PLAYER_LEFT,t),Et.dispatch(Ve(t))},this._room.onMessage(Tt.SEND_ROOM_DATA,(function(e){Et.dispatch($e(e))})))}},{key:"onPlayerJoined",value:function(e,t){yn.on(hn.PLAYER_JOINED,e,t)}},{key:"onPlayerLeft",value:function(e,t){yn.on(hn.PLAYER_LEFT,e,t)}},{key:"onMyPlayerReady",value:function(e,t){yn.on(hn.MY_PLAYER_READY,e,t)}},{key:"onPlayerUpdated",value:function(e,t){yn.on(hn.PLAYER_UPDATED,e,t)}},{key:"updatePlayer",value:function(e,t,n,s,i,a,r){var o;null===(o=this._room)||void 0===o||o.send(Tt.UPDATE_PLAYER,{x:e,y:t,rotation:n,isForwarding:s,hasShield:i,isFire:a,score:r})}},{key:"updatePlayerName",value:function(e){var t;null===(t=this._room)||void 0===t||t.send(Tt.UPDATE_PLAYER_NAME,{name:e})}},{key:"readyToConnect",value:function(){var e;null===(e=this._room)||void 0===e||e.send(Tt.READY_TO_CONNECT),yn.emit(hn.MY_PLAYER_READY)}}]),e}(),bn=function(e){Object(ln.a)(n,e);var t=Object(cn.a)(n);function n(){var e;return Object(rn.a)(this,n),(e=t.call(this,"boot"))._txtIntro=void 0,e._network=void 0,e}return Object(on.a)(n,[{key:"init",value:function(){var e=document.createElement("style");document.head.appendChild(e);e.sheet.insertRule('@font-face { font-family: "Fast Hand"; src: url("assets/fonts/Fast_Hand.otf") format("opentype"); }',0),Y.gamePros.screenWidth=this.cameras.main.width,Y.gamePros.screenHeight=this.cameras.main.height,this._network=new mn}},{key:"preload",value:function(){this.load.script("webfont","https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"),dn.a.load({custom:{families:["Fast Hand"]}}),this.load.image(Y.graphicAssets.shipWhite.name,Y.graphicAssets.shipWhite.URL),this.load.image(Y.graphicAssets.shipPink.name,Y.graphicAssets.shipPink.URL),this.load.image(Y.graphicAssets.shipGold.name,Y.graphicAssets.shipGold.URL),this.load.image(Y.graphicAssets.shipBlack.name,Y.graphicAssets.shipBlack.URL),this.load.image(Y.graphicAssets.shipBlue.name,Y.graphicAssets.shipBlue.URL),this.load.image(Y.graphicAssets.shipGreen.name,Y.graphicAssets.shipGreen.URL),this.load.image(Y.graphicAssets.shipGrey.name,Y.graphicAssets.shipGrey.URL),this.load.image(Y.graphicAssets.shipHolographic.name,Y.graphicAssets.shipHolographic.URL),this.load.image(Y.graphicAssets.shipRed.name,Y.graphicAssets.shipRed.URL),this.load.image(Y.graphicAssets.bulletNormal.name,Y.graphicAssets.bulletNormal.URL),this.load.image(Y.graphicAssets.bulletUnlimited.name,Y.graphicAssets.bulletUnlimited.URL),this.load.image(Y.graphicAssets.bulletDouble.name,Y.graphicAssets.bulletDouble.URL),this.load.image(Y.graphicAssets.bulletTriple.name,Y.graphicAssets.bulletTriple.URL),this.load.image(Y.graphicAssets.bulletVolley.name,Y.graphicAssets.bulletVolley.URL),this.load.image(Y.graphicAssets.bulletLazer.name,Y.graphicAssets.bulletLazer.URL),this.load.image(Y.graphicAssets.bulletExplose.name,Y.graphicAssets.bulletExplose.URL),this.load.image(Y.graphicAssets.bulletRegion.name,Y.graphicAssets.bulletRegion.URL),this.load.image(Y.graphicAssets.bulletAtomic.name,Y.graphicAssets.bulletAtomic.URL),this.load.image(Y.graphicAssets.asteroidFirstL.name,Y.graphicAssets.asteroidFirstL.URL),this.load.image(Y.graphicAssets.asteroidFirstS.name,Y.graphicAssets.asteroidFirstS.URL),this.load.image(Y.graphicAssets.asteroidSecondL.name,Y.graphicAssets.asteroidSecondL.URL),this.load.image(Y.graphicAssets.asteroidSecondS.name,Y.graphicAssets.asteroidSecondS.URL),this.load.image(Y.graphicAssets.airdropRapid.name,Y.graphicAssets.airdropRapid.URL),this.load.image(Y.graphicAssets.airdropDouble.name,Y.graphicAssets.airdropDouble.URL),this.load.image(Y.graphicAssets.airdropTriple.name,Y.graphicAssets.airdropTriple.URL),this.load.image(Y.graphicAssets.airdropBurst.name,Y.graphicAssets.airdropBurst.URL),this.load.image(Y.graphicAssets.airdropExplosive.name,Y.graphicAssets.airdropExplosive.URL),this.load.image(Y.graphicAssets.airdropLazer.name,Y.graphicAssets.airdropLazer.URL),this.load.image(Y.graphicAssets.airdropRocket.name,Y.graphicAssets.airdropRocket.URL),this.load.image(Y.graphicAssets.airdropLife.name,Y.graphicAssets.airdropLife.URL),this.load.image(Y.graphicAssets.airdropShield.name,Y.graphicAssets.airdropShield.URL),this.load.image(Y.graphicAssets.enemyFirst.name,Y.graphicAssets.enemyFirst.URL),this.load.image(Y.graphicAssets.enemySecond.name,Y.graphicAssets.enemySecond.URL),this.load.image(Y.graphicAssets.enemyBullet.name,Y.graphicAssets.enemyBullet.URL),this.load.image(Y.graphicAssets.rocketFirst.name,Y.graphicAssets.rocketFirst.URL),this.load.image(Y.graphicAssets.rocketSecond.name,Y.graphicAssets.rocketSecond.URL),this.load.image(Y.graphicAssets.rocketThird.name,Y.graphicAssets.rocketThird.URL),this.load.image(Y.graphicAssets.rocketFourth.name,Y.graphicAssets.rocketFourth.URL),this.load.image(Y.graphicAssets.rocketBullet.name,Y.graphicAssets.rocketBullet.URL),this.load.image(Y.graphicAssets.lifeEmpty.name,Y.graphicAssets.lifeEmpty.URL),this.load.image(Y.graphicAssets.lifeFull.name,Y.graphicAssets.lifeFull.URL),this.load.image(Y.graphicAssets.background.name,Y.graphicAssets.background.URL),this.load.atlas(Y.graphicAssets.particles.name,Y.graphicAssets.particles.URL,Y.graphicAssets.particles.data),this.load.atlas(Y.graphicAssets.lazerEffectParticle.name,Y.graphicAssets.lazerEffectParticle.URL,Y.graphicAssets.lazerEffectParticle.data),this.load.image(Y.graphicAssets.shield.name,Y.graphicAssets.shield.URL),this.load.spritesheet(Y.graphicAssets.shipTrails.name,Y.graphicAssets.shipTrails.URL,{frameWidth:10,frameHeight:25}),this.load.audio(Y.soundAssets.bg.name,Y.soundAssets.bg.URL),this.load.audio(Y.soundAssets.destroyed.name,Y.soundAssets.destroyed.URL),this.load.audio(Y.soundAssets.fire.name,Y.soundAssets.fire.URL),this.load.audio(Y.soundAssets.engine.name,Y.soundAssets.engine.URL),this.load.audio(Y.soundAssets.shipExplose.name,Y.soundAssets.shipExplose.URL)}},{key:"startGame",value:function(e,t){this.scene.stop("boot"),this.scene.start("play",{network:this._network,shipPros:e,gameProps:t}),Et.dispatch(Ze(!0))}}]),n}(an.a.Scene),gn=n(12),fn=function(e){Object(ln.a)(n,e);var t=Object(cn.a)(n);function n(e){var s,i=e.scene,a=e.group,r=e.x,o=e.y,l=e.texture,c=e.frame;return Object(rn.a)(this,n),s=t.call(this,i,r,o,l,c),i.add.existing(Object(gn.a)(s)),i.physics.add.existing(Object(gn.a)(s)),a.add(Object(gn.a)(s)),s}return Object(on.a)(n)}(an.a.Physics.Arcade.Sprite),_n=n(41),vn=n(33),xn=function(){function e(t,n,s,i,a){var r=this;Object(rn.a)(this,e),this._owner=void 0,this._scene=void 0,this._fireCooldown=void 0,this._passiveRegenCooldown=void 0,this._sinceFired=void 0,this._sinceRegen=void 0,this._storedBullets=void 0,this._maxBullets=void 0,this._speed=void 0,this._triggerHeld=void 0,this._triggered=void 0,this._isShip=void 0,this._isEnableSoundEffect=void 0,this._owner=t,this._scene=t.scene,this._fireCooldown=1e3*s,this._passiveRegenCooldown=1e3*i,this._speed=a,this._isEnableSoundEffect=void 0===this._scene.registry.get("enabledSound")||this._scene.registry.get("enabledSound"),this._isShip=999!==n,this._sinceFired=0,this._sinceRegen=0,this._storedBullets=n,this._isShip&&99!==this._maxBullets&&this._scene.registry.set("shots",this._storedBullets),this._maxBullets=n,this._triggerHeld=!1,yn.on(hn.TOGGLE_SOUNDS,(function(e){r._isEnableSoundEffect=e,r._scene.registry.set("enabledSound",e)}),this),void 0===this._isEnableSoundEffect&&(this._isEnableSoundEffect=!0)}return Object(on.a)(e,[{key:"update",value:function(e,t){this._sinceFired+=t,this._sinceRegen+=t,this._sinceRegen>this._passiveRegenCooldown&&this._storedBullets<this._maxBullets&&(this.reload(),this._sinceRegen=0)}},{key:"updateBullet",value:function(e,t,n,s){0!==e&&(this._maxBullets=e),0!==t&&(this._fireCooldown=1e3*t),0!==n&&(this._passiveRegenCooldown=1e3*n),0!==s&&(this._speed=s),99===e&&(this._scene.registry.values.shots=99),this.reload()}},{key:"setTriggerHeld",value:function(e){this._triggered=e}},{key:"spendBullet",value:function(){this._storedBullets=Math.max(this._storedBullets-1,0),this._isShip&&99!==this._maxBullets&&(this._scene.registry.values.shots=this._storedBullets)}},{key:"reload",value:function(){this._storedBullets=Math.min(this._storedBullets+1,this._maxBullets),this._isShip&&99!==this._maxBullets&&(this._scene.registry.values.shots=this._storedBullets)}}]),e}(),wn=function(e){Object(ln.a)(n,e);var t=Object(cn.a)(n);function n(){return Object(rn.a)(this,n),t.apply(this,arguments)}return Object(on.a)(n,[{key:"update",value:function(e,t){Object(_n.a)(Object(vn.a)(n.prototype),"update",this).call(this,e,t),this._triggered&&this.canFire()&&this.fire({pos:this._owner.getCenter(),rotation:this._owner.rotForward,speed:this._speed})}},{key:"fire",value:function(e){var t=e.pos,n=t.x,s=t.y,i=e.rotation,a=e.speed;this.spendBullet(),this._scene.spawnRandomBullet(n,s,i,a,this._owner),this._isEnableSoundEffect&&this._scene._bulletSound.play(),this._sinceFired=0}},{key:"canFire",value:function(){return this._storedBullets>0&&this._sinceFired>this._fireCooldown}}]),n}(xn),On=function(e){Object(ln.a)(n,e);var t=Object(cn.a)(n);function n(){return Object(rn.a)(this,n),t.apply(this,arguments)}return Object(on.a)(n,[{key:"update",value:function(e,t){Object(_n.a)(Object(vn.a)(n.prototype),"update",this).call(this,e,t),this._triggered&&this.canFire()&&this.fire({pos:this._owner.getCenter(),rotation:this._owner.rotLeft,speed:this._speed})}},{key:"fire",value:function(e){var t=e.pos,n=t.x,s=t.y,i=e.rotation,a=e.speed;this.spendBullet(),this._scene.spawnRandomEnemyBullet(n,s,i,a,this._owner),this._isEnableSoundEffect&&this._scene._bulletSound.play(),this._sinceFired=0}},{key:"canFire",value:function(){return this._sinceFired>this._fireCooldown}}]),n}(xn),jn=function(e){Object(ln.a)(n,e);var t=Object(cn.a)(n);function n(e,s,i,a){var r;Object(rn.a)(this,n),(r=t.call(this,e))._playerTexture=void 0,r._playerName=void 0,r._engine=void 0,r._lazerEffectParticle=void 0,r._lazerEffect=void 0,r._particles=void 0,r._shield=void 0,r._gunModule=void 0,r._lives=void 0,r._playerId=void 0,r._tier=void 0,r._hasCombat=void 0,r._readyToConnect=!1,r._hasShield=void 0,r._bulletType=void 0,r._bulletTypeTimer=void 0,r._playerId=s,r._tier=i.tier,r._hasCombat=a,r._playerTexture=e.texture;var o=i.isBroken?Y.shipPros.startingLives-1:Y.shipPros.startingLives;r.Lives=o+Me[i.tier],r._shield=r.scene.add.sprite(r.x,r.y,Y.graphicAssets.shield.name),r._shield.setVisible(!1),r._hasShield=!1,r._bulletType=ee;var l=Object(gn.a)(r),c=Y.bulletPros.NORMAL_BULLET.maxBullets+ke[i.tier]+(a?1:0),p=Y.bulletPros.NORMAL_BULLET.fireCooldown*Le[i.tier]*(a?.9:1),d=Y.bulletPros.NORMAL_BULLET.passiveRegenCooldown,u=Y.bulletPros.NORMAL_BULLET.speed;return r._gunModule=new wn(l,c,p,d,u),r._particles=r.scene.add.particles(Y.graphicAssets.particles.name),r._engine=r._particles.createEmitter({frame:["green"],scale:{start:.2,end:0},alpha:{start:.5,end:0},x:0,y:0,quantity:3,lifespan:{min:10,max:100},speed:{min:10,max:50},blendMode:"ADD",follow:Object(gn.a)(r)}),r._lazerEffectParticle=r.scene.add.particles(Y.graphicAssets.lazerEffectParticle.name),r._lazerEffect=r._lazerEffectParticle.createEmitter({frame:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15"],scale:{start:1,end:0},alpha:{start:.5,end:0},x:0,y:0,quantity:3,lifespan:{min:10,max:10},speed:{min:10,max:10},blendMode:"ADD",follow:Object(gn.a)(r)}),r}return Object(on.a)(n,[{key:"updateBulletProperty",value:function(e,t){this._bulletType=e;var n=this._bulletType===te?Y.bulletPros[e].maxBullets:Y.bulletPros[e].maxBullets+ke[this._tier]+(this._hasCombat?1:0),s=Y.bulletPros[e].fireCooldown*Le[this._tier]*(this._hasCombat?.9:1),i=Y.bulletPros[e].passiveRegenCooldown,a=Y.bulletPros[e].speed;this._gunModule.updateBullet(n,s,i,a),this.restoreBulletProperty(t)}},{key:"restoreBulletProperty",value:function(e){var t,n=this;null===(t=this._bulletTypeTimer)||void 0===t||t.remove(),this._bulletTypeTimer=this.scene.time.delayedCall(1e3*e,(function(){n._bulletType=ee;var e=Y.bulletPros.NORMAL_BULLET.maxBullets+ke[n._tier]+(n._hasCombat?1:0),t=Y.bulletPros.NORMAL_BULLET.fireCooldown*Le[n._tier]*(n._hasCombat?.9:1),s=Y.bulletPros.NORMAL_BULLET.passiveRegenCooldown,i=Y.bulletPros.NORMAL_BULLET.speed;n._gunModule.updateBullet(e,t,s,i)}),null,this)}},{key:"Lives",get:function(){return this._lives},set:function(e){e>Y.shipPros.startingLives+Me[this._tier]||(this._lives=e,this.scene.registry.set("playerLives",this._lives))}},{key:"reload",value:function(){this._gunModule.reload()}},{key:"rotForward",get:function(){return this.rotation}},{key:"rotLeft",get:function(){return this.rotation-Math.PI/2}},{key:"rotRight",get:function(){return this.rotation+Math.PI/2}},{key:"rotBack",get:function(){return this.rotation+Math.PI}},{key:"angleForward",get:function(){return this.angle}},{key:"angleLeft",get:function(){return this.angle-90}},{key:"angleRight",get:function(){return this.angle+90}},{key:"angleBack",get:function(){return this.angle+180}}]),n}(fn),Tn=function(e){Object(ln.a)(n,e);var t=Object(cn.a)(n);function n(e){var s,i=e.sargs,a=e.id,r=e.shipPros,o=e.hasCombat,l=e.inputKeys,c=l.forward,p=l.brake,d=l.left,u=l.right,h=l.fire;return Object(rn.a)(this,n),(s=t.call(this,i,a,r,o))._shipBody=void 0,s._engineSound=void 0,s._score=void 0,s._vulnerable=void 0,s._angularVelocity=void 0,s._acceleration=void 0,s._maxVelocity=void 0,s._shieldTimer=void 0,s._hasAtomic=void 0,s._hasLazer=void 0,s._forwardKey=void 0,s._brakeKey=void 0,s._leftKey=void 0,s._rightKey=void 0,s._fireKey=void 0,s._maxVelocity=Y.shipPros.maxVelocity,s.Score=0,s._angularVelocity=Y.shipPros.angularVelocity,s._acceleration=Y.shipPros.acceleration,s._vulnerable=!0,s._hasAtomic=!1,s._hasLazer=!1,s.setDrag(Y.shipPros.drag),s.setCircle(27),s.setOrigin(.5),s._shipBody=s.body,s._shipBody.setMaxVelocity(s._maxVelocity),s._forwardKey=c,s._brakeKey=p,s._leftKey=d,s._rightKey=u,s._fireKey=h,s}return Object(on.a)(n,[{key:"Score",get:function(){return this._score},set:function(e){this._score=e,this.scene.registry.set("score",this._score)}},{key:"Vulnerable",get:function(){return this._vulnerable},set:function(e){this._vulnerable=e}},{key:"BulletType",get:function(){return this._bulletType}},{key:"setShiled",value:function(e){var t,n=this;this._vulnerable=!1,this._shield.setVisible(!0),this._hasShield=!0,this.setCircle(33),null===(t=this._shieldTimer)||void 0===t||t.remove(),this._shieldTimer=this.scene.time.delayedCall(1e3*e,(function(){n._vulnerable=!0,n._shield.setVisible(!1),n._hasShield=!1,n.setCircle(27)}),null,this)}},{key:"update",value:function(e,t){if(this._gunModule.update(e,t),this._lazerEffect.setAngle(this.angleBack),this._lazerEffect.setSpeed({min:this.body.velocity.length()-150,max:this.body.velocity.length()-100}),this._lazerEffect.followOffset.setToPolar(this.rotBack,-22),this._hasLazer?this._lazerEffect.start():this._lazerEffect.stop(),this._forwardKey.isDown?(this.setMaxVelocity(this._maxVelocity),this._engine.setAngle(this.angleBack),this._engine.setSpeed({min:this.body.velocity.length()-150,max:this.body.velocity.length()-100}),this._engine.followOffset.setToPolar(this.rotBack,25),this._engine.start(),this.scene.physics.velocityFromRotation(this.rotation,this._acceleration,this._shipBody.acceleration)):(this.scene.physics.velocityFromRotation(this.rotation,0,this._shipBody.acceleration),this._engine.stop()),this._brakeKey.isDown){var n=this._maxVelocity;n/=3,this.setMaxVelocity(n)}var s=0;this._leftKey.isDown?s+=-this._angularVelocity:this._rightKey.isDown&&(s+=this._angularVelocity),this.setAngularVelocity(s),this._fireKey.isDown?this._gunModule.setTriggerHeld(!0):this._gunModule.setTriggerHeld(!1),this._hasShield&&this._shield.setPosition(this.x,this.y)}},{key:"updateToServer",value:function(e){var t=this;this.scene.time.addEvent({delay:1e3,callback:function(){0===t._shipBody.speed&&0===t._shipBody.rotation||e.updatePlayer(t.x,t.y,t.rotation,t._forwardKey.isDown,t._hasShield,t._fireKey.isDown,t._score)},loop:!1})}},{key:"facing",value:function(){return new an.a.Math.Vector2(Math.sin(this.rotation),-Math.cos(this.rotation))}},{key:"kill",value:function(){this._vulnerable=!1,this.Lives-=1,this._engine.stop(),this.emit("ship_death"),this.setActive(!1).setVisible(!1)}},{key:"makeTempInvulnerable",value:function(e){var t=this;this._vulnerable=!1;var n=this.scene.time.addEvent({delay:200,callback:function(){t.setVisible(!t.visible)},callbackScope:this,repeat:-1});this.scene.time.delayedCall(1e3*e,(function(){t._vulnerable=!0,n.remove(),t.setVisible(!0)}),null,this)}},{key:"respawn",value:function(e,t){this.setActive(!0).setVisible(!0),this.setRotation(0),this.setRotation(this.rotLeft),this.setPosition(e,t),this._shipBody.setVelocity(0),this.makeTempInvulnerable(3)}}]),n}(jn),En=function(e){Object(ln.a)(n,e);var t=Object(cn.a)(n);function n(e){var s,i=e.sargs,a=e.id,r=e.tier;return Object(rn.a)(this,n),(s=t.call(this,i,a,r,!1))._targetPosition=void 0,s._rotation=void 0,s._isForwarding=void 0,s._hasShield=void 0,s._isFire=void 0,s._lastUpdateTimestamp=void 0,s._connected=!1,s._targetPosition={x:i.x,y:i.y},s}return Object(on.a)(n,[{key:"updateOtherPlayer",value:function(e,t){switch(e){case"name":"string"===typeof t&&this._playerName.setText(t);break;case"x":"number"===typeof t&&(this._targetPosition.x=t);break;case"y":"number"===typeof t&&(this._targetPosition.y=t);break;case"rotation":"number"===typeof t&&(this._rotation=t);break;case"isForwarding":"boolean"===typeof t&&(this._isForwarding=t);break;case"isFire":"boolean"===typeof t&&(this._isFire=t);break;case"hasShield":"boolean"===typeof t&&(this._hasShield=t);break;case"readyToConnect":"boolean"===typeof t&&(this._readyToConnect=t)}}},{key:"preUpdate",value:function(e,t){if(Object(_n.a)(Object(vn.a)(n.prototype),"preUpdate",this).call(this,e,t),this._gunModule.update(e,t),this._lastUpdateTimestamp&&e-this._lastUpdateTimestamp>750)return this._lastUpdateTimestamp=e,this.x=this._targetPosition.x,this.y=this._targetPosition.y,void(this.rotation=this._rotation);this._lastUpdateTimestamp=e,this.setDepth(this.y);var s=200,i=.2*t,a=this._targetPosition.x-this.x,r=this._targetPosition.y-this.y;Math.abs(a)<i&&(this.x=this._targetPosition.x,a=0),Math.abs(r)<i&&(this.y=this._targetPosition.y,r=0);var o=0,l=0;a>0?o+=s:a<0&&(o-=s),r>0?l+=s:r<0&&(l-=s),this.setVelocity(o,l),this.rotation=this._rotation,this.body.velocity.setLength(s),this._isForwarding?(this._engine.setAngle(this.angleBack),this._engine.setSpeed({min:100+this.body.velocity.length(),max:150+this.body.velocity.length()}),this._engine.followOffset.setToPolar(this.rotBack,8),this._engine.start()):this._engine.stop(),this._shield.setVisible(this._hasShield),this._shield.setPosition(this.x,this.y),this._gunModule.setTriggerHeld(this._isFire)}}]),n}(jn),Sn=function(e){Object(ln.a)(n,e);var t=Object(cn.a)(n);function n(e){var s,i=e.sargs,a=e.owner,r=e.kind;return Object(rn.a)(this,n),(s=t.call(this,i))._owner=void 0,s._bulletKind=void 0,s._owner=a,s._bulletKind=r,s.setOrigin(.5,.5),i.texture===le.REGION_BULLET&&("explosive"===s._bulletKind?s.setCircle(100):"atomic"===s._bulletKind&&s.setSize(s.scene.cameras.main.width,s.scene.cameras.main.height),s.scene.time.addEvent({delay:50,callback:function(){s.destroy()}})),s}return Object(on.a)(n)}(fn),An=function(e){Object(ln.a)(n,e);var t=Object(cn.a)(n);function n(e){var s,i=e.sargs,a=e.type,r=e.size;return Object(rn.a)(this,n),(s=t.call(this,i))._type=void 0,s._size=void 0,s._lives=2,s._group="asteroid",s._type=a,s._size=r,s}return Object(on.a)(n,[{key:"launchAsteroid",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50,i=G(t-n,t+n),a=G(t-n,t+n),r=e*Math.cos(i),o=e*Math.sin(a);this.setOrigin(.5,.5),this._size===Z&&this.setCircle(29),this._size===$&&this.setCircle(19),this.setVelocity(r,o),this.setAngularVelocity(G(-s,s))}}]),n}(fn),kn=An,Ln=function(e){Object(ln.a)(n,e);var t=Object(cn.a)(n);function n(e){var s,i=e.sargs,a=e.kind;return Object(rn.a)(this,n),(s=t.call(this,i))._kind=void 0,s._kind=a,s}return Object(on.a)(n,[{key:"launchAirdrop",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30,i=G(t-n,t+n),a=G(t-n,t+n),r=e*Math.cos(i),o=e*Math.sin(a);this.setOrigin(.5,.5),this.setVelocity(r,o),this.setAngularVelocity(G(-s,s))}}]),n}(fn),Mn=Ln,Rn=function(e){Object(ln.a)(n,e);var t=Object(cn.a)(n);function n(e){var s,i=e.sargs,a=e.type,r=e.lives;Object(rn.a)(this,n),(s=t.call(this,i))._type=void 0,s._gunModule=void 0,s._group="enemy",s._lives=2,s._type=a,s._lives=r,a!==Oe&&a!==je&&a!==Te&&a!==Ee||(s._group="boss");var o=Object(gn.a)(s),l=Y.enemyBulletPros.maxBullets,c=a===ve||a===xe?Y.enemyBulletPros.fireCooldown:Y.enemyBulletPros.bossFireCooldown,p=Y.enemyBulletPros.passiveRegenCooldown,d=a===ve||a===xe?Y.enemyBulletPros.normalSpeed:Y.enemyBulletPros.bossSpeed;return s._gunModule=new On(o,l,c,p,d),s}return Object(on.a)(n,[{key:"launchEnemy",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=Y.enemyPros.angVelRange,i=G(t-n,t+n),a=G(t-n,t+n),r=e*Math.cos(i),o=e*Math.sin(a);this.setOrigin(.5,.5),this.setVelocity(r,o),this._type===ve||this._type===xe?this.setAngularVelocity(G(-s,s)):this.setRotation(t),this._type===ve?this.setCircle(19):this._type===xe?this.setCircle(20):this.setCircle(70)}},{key:"update",value:function(e,t){var n=this;this._gunModule.update(e,t),this.scene.time.addEvent({delay:1e3,callback:function(){n._gunModule.setTriggerHeld(!n._gunModule._triggered)},repeat:-1})}},{key:"rotForward",get:function(){return this.rotation}},{key:"rotLeft",get:function(){return this.rotation-Math.PI/2}},{key:"rotRight",get:function(){return this.rotation+Math.PI/2}},{key:"rotBack",get:function(){return this.rotation+Math.PI}},{key:"angleForward",get:function(){return this.angle}},{key:"angleLeft",get:function(){return this.angle-90}},{key:"angleRight",get:function(){return this.angle+90}},{key:"angleBack",get:function(){return this.angle+180}}]),n}(fn),In=Rn,Pn=function(e){Object(ln.a)(n,e);var t=Object(cn.a)(n);function n(e){var s,i=e.sargs,a=e.owner;return Object(rn.a)(this,n),(s=t.call(this,i))._owner=void 0,s._group="enemyBullet",s._owner=a,s.setOrigin(.5,.5),s}return Object(on.a)(n)}(fn),Bn=function(e){Object(ln.a)(n,e);var t=Object(cn.a)(n);function n(){var e;return Object(rn.a)(this,n),(e=t.call(this,"play"))._network=void 0,e._myShip=void 0,e._account=void 0,e._tokenId=void 0,e._shipName=void 0,e._ships=void 0,e._otherShips=void 0,e._otherShipMap=new Map,e._bullets=void 0,e._regionBullets=void 0,e._enemies=void 0,e._airdrops=void 0,e._worldBounds=void 0,e._backgroundSprite=void 0,e._particles=void 0,e._destroyedSound=void 0,e._fireSound=void 0,e._bulletSound=void 0,e._bgSound=void 0,e._airdropPercentAsteroid=void 0,e._airdropPercentEnemy=void 0,e._airdropPercentBoss=void 0,e._airdropDuration=void 0,e._airdropTimer=void 0,e._startingAsteroids=void 0,e._maxAsteroids=void 0,e._incrementAsteroids=void 0,e._minAsteroidSpeed=void 0,e._maxAsteroidSpeed=void 0,e._minEnemySpeed=void 0,e._maxEnemySpeed=void 0,e._startingEnemies=void 0,e._increaseEnemies=void 0,e._enemyLives=void 0,e._startingBoss=void 0,e._bossLives=void 0,e._increaseBoss=void 0,e._enemyBulletVelocity=void 0,e._bossSpeed=void 0,e._width=void 0,e._height=void 0,e._center=void 0,e._level=void 0,e._levelTimer=void 0,e._readyNewLevel=void 0,e._passedIntro=void 0,e._specialKey=void 0,e._isEnableSoundEffect=void 0,e._isEnableBgSound=void 0,e}return Object(on.a)(n,[{key:"init",value:function(){this._width=Y.gamePros.screenWidth,this._height=Y.gamePros.screenHeight,this._center={x:this._width/2,y:this._height/2},this._level=0,this._readyNewLevel=!1,this._passedIntro=!1,this._isEnableSoundEffect=!0,this._isEnableBgSound=!0,this._startingAsteroids=Y.asteroidPros.startingAsteroids,this._maxAsteroids=Y.asteroidPros.maxAsteroids,this._incrementAsteroids=Y.asteroidPros.incrementAsteroids,this._minAsteroidSpeed=Y.asteroidPros.minSpeed,this._maxAsteroidSpeed=Y.asteroidPros.maxSpeed,this._minEnemySpeed=Y.enemyPros.minSpeed,this._maxEnemySpeed=Y.enemyPros.maxSpeed,this._startingEnemies=Y.enemyPros.startingEnemies,this._increaseEnemies=Y.enemyPros.incrementEnemies,this._enemyBulletVelocity=Y.enemyBulletPros.velocity,this._enemyLives=Y.enemyBulletPros.lives,this._startingBoss=Y.enemyPros.startingBoss,this._increaseBoss=Y.enemyPros.incrementBoss,this._bossLives=Y.enemyPros.bossLives,this._bossSpeed=Y.enemyBulletPros.bossSpeed,this._airdropPercentAsteroid=Y.airdropPros.percentAsteroid,this._airdropPercentEnemy=Y.airdropPros.percentEnemy,this._airdropPercentBoss=Y.airdropPros.percentBoss,this._airdropDuration=Y.airdropPros.duration,this.initAssets(),this.initWorld()}},{key:"initWorld",value:function(){this._ships=this.physics.add.group(),this._ships.runChildUpdate=!0,this._otherShips=this.physics.add.group(),this._otherShips.runChildUpdate=!0,this._bullets=this.physics.add.group(),this._bullets.runChildUpdate=!0,this._regionBullets=this.physics.add.group(),this._regionBullets.runChildUpdate=!0,this._airdrops=this.physics.add.group(),this._airdrops.runChildUpdate=!0,this._enemies=this.physics.add.group(),this._enemies.runChildUpdate=!0,this._backgroundSprite=this.add.sprite(0,0,Y.graphicAssets.background.name),this._backgroundSprite.displayWidth=Y.gamePros.screenWidth,this._backgroundSprite.displayHeight=Y.gamePros.screenHeight,this._backgroundSprite.setOrigin(0),this.initWorldBounds(),this.physics.add.overlap(this._ships,this._enemies,this.shipEnemyCollision,null,this),this.physics.add.overlap(this._ships,this._airdrops,this.shipAirdropCollision,null,this),this.physics.add.overlap([this._bullets,this._regionBullets],this._enemies,this.bulletEnemyCollision,null,this),this.physics.add.overlap(this._bullets,this._worldBounds,(function(e,t){e.destroy()})),this.physics.add.overlap(this._enemies,this._worldBounds,this.respawnEnemies,null,this)}},{key:"initWorldBounds",value:function(){var e=this._width/2+100,t=this._height/2+100,n=this._center.x-e,s=this._center.x+(e-5),i=this._center.y-t,a=this._center.y+(t-5),r=s-n,o=a-i,l=i+o/2,c=n+r/2;this._worldBounds=this.physics.add.staticGroup(),this._worldBounds.add(new an.a.GameObjects.Rectangle(this,c,i,r,5)),this._worldBounds.add(new an.a.GameObjects.Rectangle(this,n,l,5,o)),this._worldBounds.add(new an.a.GameObjects.Rectangle(this,c,a,r,5,1)),this._worldBounds.add(new an.a.GameObjects.Rectangle(this,s,l,5,o,0))}},{key:"initShip",value:function(e,t,n){var s=this,i={forward:this.input.keyboard.addKey(n.forward),brake:this.input.keyboard.addKey(n.brake),left:this.input.keyboard.addKey(n.left),right:this.input.keyboard.addKey(n.right),fire:this.input.keyboard.addKey(n.fire)};this._myShip=new Tn({sargs:{scene:this,group:this._ships,x:this.cameras.main.centerX,y:this.cameras.main.centerY,texture:Q[e.shipColor]},id:1,shipPros:e,hasCombat:t,inputKeys:i}),this._myShip.setRotation(this._myShip.rotLeft);var a=this.sound.add(Y.soundAssets.shipExplose.name,{volume:.5});a.on("complete",(function(){s._myShip.Lives<1?s.gameOver():s._myShip.respawn(s._width/2,s._height/2)})),this._myShip.on("ship_death",(function(){a.play(),s._particles.shipExplode.emitParticleAt(s._myShip.x,s._myShip.y)})),this._myShip._engineSound=this.sound.add(Y.soundAssets.engine.name,{loop:!0,volume:.5}),this._isEnableSoundEffect&&this._myShip._engineSound.play(),this._myShip._engineSound.pause()}},{key:"initAssets",value:function(){this._bulletSound=this.sound.add(Y.soundAssets.fire.name),this._destroyedSound=this.sound.add(Y.soundAssets.destroyed.name),this._fireSound=this.sound.add(Y.soundAssets.fire.name),this._bgSound=this.sound.add(Y.soundAssets.bg.name),this._particles={};var e=this.add.particles(Y.graphicAssets.particles.name);e.setDepth(9);this._particles.bulletImpact=e.createEmitter({frame:["blue","red","orange"],scale:{start:.2,end:0},quantity:30,alpha:{start:1,end:0},lifespan:{min:500,max:1e3},speed:{min:120,max:150},frequency:-1,blendMode:"ADD"}),this._particles.asteroidExplode=e.createEmitter({frame:["white","red"],scale:{start:.3,end:0},quantity:60,alpha:{start:1,end:0},lifespan:{min:300,max:600},speed:{min:20,max:150},frequency:-1,blendMode:"ADD"}),this._particles.shipExplode=e.createEmitter({frame:["white","red","orange"],scale:{start:.6,end:0},quantity:60,alpha:{start:1,end:0},lifespan:{min:300,max:600},speed:{min:20,max:150},frequency:-1,blendMode:"ADD"})}},{key:"create",value:function(e){var t=this;if(this._airdropDuration*=Re[e.shipPros.tier],this.registry.set("bonusLives",Me[e.shipPros.tier]),this._specialKey=e.gameProps.keyboard.special,this.scene.launch("text",{level:1}),!e.network)throw new Error("server instance missing");this._network=e.network,this.initShip(e.shipPros,e.gameProps.hasCombat,e.gameProps.keyboard),this._account=e.shipPros.account,this._tokenId=e.shipPros.tokenID,this._shipName=e.shipPros.shipName,e.shipPros.hasShield&&(this._myShip.setShiled(this._airdropDuration),Et.dispatch(ot(ce.SHIELD)),Et.dispatch(lt(this._airdropDuration))),this._startingAsteroids+=Ie[e.gameProps.difficulty].STARTING_ASTEROIDS,this._incrementAsteroids+=Ie[e.gameProps.difficulty].INCREASE_ASTEROIDS,this._maxAsteroids+=Ie[e.gameProps.difficulty].MAX_ASTEROIDS,this._minAsteroidSpeed*=Ie[e.gameProps.difficulty].MIN_ASTEROID_SPEED,this._maxAsteroidSpeed*=Ie[e.gameProps.difficulty].MAX_ASTEROID_SPEED,this._startingEnemies+=Ie[e.gameProps.difficulty].STARTING_ENEMIES,this._increaseEnemies+=Ie[e.gameProps.difficulty].INCREASE_ENEMIES,this._minEnemySpeed*=Ie[e.gameProps.difficulty].MIN_ENEMY_SPEED,this._maxEnemySpeed*=Ie[e.gameProps.difficulty].MAX_ENEMY_SPEED,this.input.keyboard.on("keyup-".concat(e.gameProps.keyboard.sounds),(function(){t._isEnableSoundEffect=!t._isEnableSoundEffect,yn.emit(hn.TOGGLE_SOUNDS,t._isEnableSoundEffect)}),this),this._bgSound.play(),this.input.keyboard.on("keyup-".concat(e.gameProps.keyboard.music),(function(){t._isEnableBgSound=!t._isEnableBgSound,t._isEnableBgSound?t._bgSound.play():t._bgSound.stop()}),this),this.input.keyboard.on("keyup-".concat(e.gameProps.keyboard.exit),(function(){Et.dispatch(pt(!0))}),this),yn.on(hn.EXIST_GAME,(function(){t.gameOver()}))}},{key:"handlePlayerJoined",value:function(e,t){var n=new En({sargs:{scene:this,group:this._otherShips,x:e.x,y:e.y,texture:Y.graphicAssets.shipWhite.name},id:t,tier:0});this._otherShipMap.set(t,n)}},{key:"handlePlayerLeft",value:function(e){if(this._otherShipMap.has(e)){var t=this._otherShipMap.get(e);if(!t)return;this._otherShips.remove(t,!0,!0),this._otherShipMap.delete(e)}}},{key:"handleMyPlayerReady",value:function(){this._myShip._readyToConnect=!0}},{key:"handlePlayerUpdated",value:function(e,t,n){var s=this._otherShipMap.get(n);null===s||void 0===s||s.updateOtherPlayer(e,t)}},{key:"shipEnemyCollision",value:function(e,t){e._hasShield?("asteroid"===t._group&&this.splitAsteroid(t),this._particles.asteroidExplode.emitParticleAt(t.x,t.y),this._isEnableSoundEffect&&this._destroyedSound.play(),t.destroy()):e.Vulnerable&&e.kill()}},{key:"shipAirdropCollision",value:function(e,t){t._kind===ge||(t._kind===be?Et.dispatch(ct(!0)):t._kind===fe?(Et.dispatch(ot(t._kind)),Et.dispatch(lt(this._airdropDuration))):(Et.dispatch(at(t._kind)),Et.dispatch(rt(this._airdropDuration)))),t._kind===be?e._hasAtomic=!0:t._kind===ge?e.Lives+=1:t._kind===fe?e.setShiled(this._airdropDuration):e.updateBulletProperty(t._kind,this._airdropDuration),t.destroy()}},{key:"bulletEnemyCollision",value:function(e,t){if("normal"===e._bulletKind&&e._owner._bulletType===re)return e.destroy(),void this.spawnRegionBullet(t.x,t.y,e._owner,"explosive");if("asteroid"===t._group){if(t._type===q&&2===t._lives)return t._lives--,this._particles.asteroidExplode.emitParticleAt(t.x,t.y),void(e._owner._bulletType!==ae&&e.destroy());e._owner.Score+=1,this.spawnRandomAirdrop(t,this._airdropPercentAsteroid),this.splitAsteroid(t)}if("enemy"===t._group||"boss"===t._group){if("enemy"===t._group&&2===t._lives)return t._lives--,this._particles.asteroidExplode.emitParticleAt(t.x,t.y),void(e._owner._bulletType!==ae&&e.destroy());if("boss"===t._group&&t._lives>1)return t._lives--,this._particles.asteroidExplode.emitParticleAt(t.x,t.y),void(e._owner._bulletType!==ae&&e.destroy());"enemy"===t._group&&(e._owner.Score+=10,this.spawnRandomAirdrop(t,this._airdropPercentEnemy)),"boss"===t._group&&(e._owner.Score+=80,this.spawnRandomAirdrop(t,this._airdropPercentBoss))}this._particles.asteroidExplode.emitParticleAt(t.x,t.y),this._isEnableSoundEffect&&this._destroyedSound.play(),"atomic"!==e._bulletKind&&e._owner.reload(),e._owner._bulletType!==ae&&e.destroy(),t.destroy()}},{key:"spawnRandomBullet",value:function(e,t,n,s,i){var a=this;switch(i._bulletType){case ne:for(var r=i.body.velocity,o=(new an.a.Math.Vector2).setToPolar(n,s).add(r),l=Math.sqrt(o.x*o.x+o.y*o.y),c={x:o.x/l,y:o.y/l},p=-1;p<=1;p+=2){var d=this.spawnBullet(e-15*c.y*p,t+15*c.x*p,i);d.rotation=i.rotation,d.setVelocity(o.x,o.y)}break;case se:for(var u=i.body.velocity,h=(new an.a.Math.Vector2).setToPolar(n,s).add(u),y=Math.sqrt(h.x*h.x+h.y*h.y),m={x:h.x/y,y:h.y/y},b=-1;b<=1;b++){var g=this.spawnBullet(e-15*m.y*b,t+15*m.x*b,i);g.rotation=i.rotation,g.setVelocity(h.x,h.y)}break;case ie:for(var f=-1;f<=1;f++){var _=f*Math.PI/10,v=this.spawnBullet(e,t,i);v.rotation=i.rotation+_;var x=i.body.velocity,w=(new an.a.Math.Vector2).setToPolar(n,s).add(x).length(),O=i.rotation;v.setVelocity(w*Math.cos(O+_),w*Math.sin(O+_))}break;case re:var j=this.spawnBullet(e,t,i);j.rotation=i.rotation;var T=i.body.velocity,E=(new an.a.Math.Vector2).setToPolar(n,s);j.setVelocity(T.x+E.x,T.y+E.y);break;case ae:i._hasLazer=!0,setTimeout((function(){var n=a.spawnBullet(e,t,i);n.rotation=i.rotation;var r=i.body.velocity,o=(new an.a.Math.Vector2).setToPolar(i.rotation,s);n.setVelocity(r.x+o.x,r.y+o.y),i._hasLazer=!1}),500);break;case oe:var S=this.spawnBullet(e,t,i);S.rotation=i.rotation;var A=i.body.velocity,k=(new an.a.Math.Vector2).setToPolar(n,s);S.setVelocity(A.x+k.x,A.y+k.y);break;default:var L=this.spawnBullet(e,t,i);L.rotation=i.rotation;var M=i.body.velocity,R=(new an.a.Math.Vector2).setToPolar(n,s);L.setVelocity(M.x+R.x,M.y+R.y)}}},{key:"spawnBullet",value:function(e,t,n){var s,i;return n._bulletType===ae?(s=n.x,i=n.y):(s=e,i=t),new Sn({sargs:{scene:this,group:this._bullets,x:s,y:i,texture:le[n._bulletType],frame:0},owner:n,kind:"normal"})}},{key:"spawnRegionBullet",value:function(e,t,n,s){return new Sn({sargs:{scene:this,group:this._regionBullets,x:e,y:t,texture:le.REGION_BULLET,frame:0},owner:n,kind:s})}},{key:"spawnRandomAsteroid",value:function(e,t){var n=this.getOuterRimCoords(),s=n.x,i=n.y,a=n.dir;this.spawnAsteroid(s,i,e,t).launchAsteroid(G(this._minAsteroidSpeed,this._maxAsteroidSpeed),a+Math.PI,K)}},{key:"spawnAsteroid",value:function(e,t,n,s){return new kn({sargs:{scene:this,group:this._enemies,x:e,y:t,texture:X[n][s],frame:Math.round(2*Math.random())},type:n,size:s})}},{key:"respawnEnemies",value:function(e,t){var n=this.getOuterRimCoords(),s=n.x,i=n.y,a=n.dir;e.setPosition(s,i),"enemy"===e._group?e.launchEnemy(G(this._minEnemySpeed,this._maxEnemySpeed),a+Math.PI,K):"asteroid"===e._group?e.launchAsteroid(G(this._minAsteroidSpeed,this._maxAsteroidSpeed),a+Math.PI,K):"enemyBullet"===e._group&&e.destroy()}},{key:"splitAsteroid",value:function(e){if(e._size!==$)for(var t=e._type,n=$,s=e.body.velocity,i=e.getCenter(),a=i.x,r=i.y,o=0;o<2;o++){var l=an.a.Math.RandomXY(new an.a.Math.Vector2,40),c=l.x,p=l.y;this.spawnAsteroid(a+c,r+p,t,n).launchAsteroid(G(this._minAsteroidSpeed,this._maxAsteroidSpeed),s.angle(),K,60)}}},{key:"spawnRandomEnemies",value:function(e,t){var n=this.getOuterRimCoords(),s=n.x,i=n.y,a=n.dir;this.spawnEnemy(s,i,e,t).launchEnemy(G(this._minEnemySpeed,this._maxEnemySpeed),a+Math.PI,K-Math.PI)}},{key:"spawnEnemy",value:function(e,t,n,s){return new In({sargs:{scene:this,group:this._enemies,x:e,y:t,texture:_e[n],frame:Math.round(2*Math.random())},type:n,lives:s})}},{key:"spawnRandomEnemyBullet",value:function(e,t,n,s,i){if(i._type===ve){var a=this.spawnEnemyBullet(e,t,i);a.rotation=n;var r=i.body.velocity,o=(new an.a.Math.Vector2).setToPolar(n,s);a.setVelocity(r.x+o.x,r.y+o.y)}else if(i._type===xe)for(var l=0;l<10;l++){var c=l*Math.PI/5,p=this.spawnEnemyBullet(e,t,i),d=this._enemyBulletVelocity;p.setVelocity(d.x*Math.cos(c),d.y*Math.sin(c))}else if(i._type===Oe||i._type===je){var u=this.spawnEnemyBullet(e,t,i),h={x:this._myShip.x-i.x,y:this._myShip.y-i.y},y=Math.sqrt(h.x*h.x+h.y*h.y),m={x:h.x/y,y:h.y/y},b={x:m.x*this._bossSpeed,y:m.y*this._bossSpeed};u.setVelocity(b.x,b.y)}else if(i._type===Te||i._type===Ee)for(var g={x:this._myShip.x-i.x,y:this._myShip.y-i.y},f=Math.sqrt(g.x*g.x+g.y*g.y),_={x:g.x/f,y:g.y/f},v={x:_.x*this._bossSpeed,y:_.y*this._bossSpeed},x=Math.sqrt(v.x*v.x+v.y*v.y),w={x:v.x/x,y:v.y/x},O=-1;O<=1;O+=2){this.spawnEnemyBullet(e-15*w.y*O,t+15*w.x*O,i).setVelocity(v.x,v.y)}}},{key:"spawnEnemyBullet",value:function(e,t,n){var s=n._type.startsWith("NORMAL")?Y.graphicAssets.enemyBullet.name:Y.graphicAssets.rocketBullet.name;return new Pn({sargs:{scene:this,group:this._enemies,x:e,y:t,texture:s,frame:0},owner:n})}},{key:"spawnRandomAirdrop",value:function(e,t){var n=this;if(s=t,Math.floor(100*Math.random())<=s){var s,i=G(0,9),a="";a=i<=1?pe:i<=2?de:i<=3?ue:i<=4?he:i<=5?ye:i<=6?me:i<=7?ge:i<=8?be:fe;var r=this.getOuterRimCoords().dir,o=this.spawnAirdrop(e.x,e.y,a);o.launchAirdrop(10+G(-5,10),r+Math.PI,K);var l=this.time.delayedCall(1e3*Y.airdropPros.alertTime,(function(){n.time.addEvent({delay:500,callback:function(){o.setVisible(!o.visible)},callbackScope:n,repeat:-1})}));this.time.delayedCall(1e3*Y.airdropPros.lifetime,(function(){l.remove(),o.destroy()}))}}},{key:"spawnAirdrop",value:function(e,t,n){return new Mn({sargs:{scene:this,group:this._airdrops,x:e,y:t,texture:ce[n],frame:Math.round(2*Math.random())},kind:n})}},{key:"getOuterRimCoords",value:function(){var e=0,t=0,n=0,s=Math.random()*(2*this._width+2*this._height);return s<this._width?(e=s,t=0,n=-G(.1,.9)*Math.PI):s<this._width+this._height?(e=this._width,t=s-this._width,n=G(-.4,.4)*Math.PI):s<2*this._width+this._height?(e=s-this._width-this._height,t=this._height,n=G(.1,.9)*Math.PI):(e=0,t=s-2*this._width-this._height,n=G(.6,1.4)*Math.PI),{x:e,y:t,dir:n}}},{key:"gameOver",value:function(){this.sound.stopAll(),this.scene.stop("play"),this.scene.stop("text"),this.scene.launch("gameOver",{score:this._myShip.Score})}},{key:"nextAsteroids",value:function(){this._startingAsteroids=Math.min(this._startingAsteroids+this._incrementAsteroids,this._maxAsteroids);for(var e=0;e<this._startingAsteroids;e++){var t=1===this._level||G(0,1)>=.5?J:q,n=Z;this.spawnRandomAsteroid(t,n)}}},{key:"nextEnemies",value:function(e,t,n){if(t!==we)for(var s=0;s<e;s++)this.spawnRandomEnemies(t,n);else{this.spawnRandomEnemies(ve,n),this.spawnRandomEnemies(xe,n);for(var i=0;i<e-2;i++){var a=G(1,3)>=2?xe:ve;this.spawnRandomEnemies(a,n)}}}},{key:"nextLevel",value:function(){var e=this;if(this._passedIntro=!1,this.time.removeEvent(this._levelTimer),this._readyNewLevel=!1,this._levelTimer=this.time.addEvent({delay:2e3,callback:function(){e._readyNewLevel=!1}}),this._level++,this.registry.set("level",this._level),7===this._level||this._level>=8&&this._level%4===0||this.nextAsteroids(),this._level>=3&&!(this._level>=8&&this._level%4===0)){this._startingEnemies+=this._increaseEnemies;var t=this._level>=5?we:ve;this.nextEnemies(this._startingEnemies,t,this._enemyLives)}if(this._level>=8&&this._level%4===0){12!==this._level&&(this._startingBoss+=this._increaseBoss);var n=G(0,1)>.5?Oe:je;this.nextEnemies(this._startingBoss,n,this._bossLives)}if(this._level>=12&&this._level%4===0){var s=G(0,1)>.5?Te:Ee;this._bossLives+=5,this.nextEnemies(this._startingBoss,s,this._bossLives)}}},{key:"introNewEnemy",value:function(e){this.nextEnemies(1,e,this._bossLives)}},{key:"newMission",value:function(){var e=this;2!==this._level||this._passedIntro?4!==this._level||this._passedIntro?(this.registry.set("endLevel",this._level),this.registry.set("newEnemy",-1),this._levelTimer=this.time.addEvent({delay:Y.gamePros.endLevelDelay,callback:function(){e._readyNewLevel=!0,e.registry.set("endLevel",-1)}})):(this._passedIntro=!0,this.registry.set("newEnemy",1),this.introNewEnemy(xe),this._levelTimer=this.time.addEvent({delay:Y.gamePros.introNewEnemyDelay,callback:function(){e.registry.set("newEnemy",-1)}})):(this._passedIntro=!0,this.registry.set("newEnemy",1),this.introNewEnemy(ve),this._levelTimer=this.time.addEvent({delay:Y.gamePros.introNewEnemyDelay,callback:function(){e.registry.set("newEnemy",-1)}}))}},{key:"update",value:function(e,t){this.physics.world.wrap(this._ships);var n=this._enemies.children.entries.filter((function(e){return"enemyBullet"!==e._group})).length;n<=0&&this.newMission(),n<=0&&!0===this._readyNewLevel&&this.nextLevel(),this._myShip&&this._network&&this._myShip.updateToServer(this._network),this.input.keyboard.addKey(this._specialKey).isDown&&this._myShip._hasAtomic&&(this.spawnRegionBullet(this._center.x,this._center.y,this,"atomic"),this._myShip._hasAtomic=!1,Et.dispatch(ct(!1)))}}]),n}(an.a.Scene),Cn=function(e){Object(ln.a)(n,e);var t=Object(cn.a)(n);function n(){var e;return Object(rn.a)(this,n),(e=t.call(this,"text"))._scoreLabel=void 0,e._scoreText=void 0,e._levelLabel=void 0,e._levelText=void 0,e._shotLabel=void 0,e._shotText=void 0,e._endLevel=void 0,e._newEnemy=void 0,e._lives=void 0,e._startingLives=void 0,e._bonusLives=void 0,e._width=void 0,e._height=void 0,e}return Object(on.a)(n,[{key:"init",value:function(){this._width=Y.gamePros.screenWidth,this._height=Y.gamePros.screenHeight,this._startingLives=Y.shipPros.startingLives+this.registry.values.bonusLives,this._bonusLives=0,this._lives=[]}},{key:"create",value:function(e){var t=this;this._endLevel=this.add.text(this._width/2,this._height/2-50,"",Y.fontAssets.endLevel),this._endLevel.setOrigin(.5),this._newEnemy=this.add.text(this._width/2,this._height/2-50,"",Y.fontAssets.endLevel),this._newEnemy.setOrigin(.5),this._scoreLabel=this.add.text(16,16,"Score:",Y.fontAssets.scoreLabel),this._scoreText=this.add.text(135,16,"0",Y.fontAssets.scoreText),this._levelLabel=this.add.text(16,50,"Level:",Y.fontAssets.levelLabel),this._levelText=this.add.text(85,50,e.level,Y.fontAssets.levelText),this._shotLabel=this.add.text(this._width-155,this._height-45,"Shots:",Y.fontAssets.scoreLabel),this._shotText=this.add.text(this._width-16,this._height-16,this.registry.values.shots,Y.fontAssets.scoreText),this._shotText.setOrigin(1,1),this.setLives(),this.events.on("shutdown",(function(){return t.registry.events.removeListener("changedata",t.updateData,t)}),this),this.registry.events.on("changedata",this.updateData,this)}},{key:"updateData",value:function(e,t,n){"score"===t?this._scoreText.setText(n):"level"===t?this._levelText.setText(n):"playerLives"===t?this.setLives():"shots"===t?n>90?this._shotText.setText("\u221e"):this._shotText.setText(n):"endLevel"===t?-1===n?this._endLevel.setText(""):0===n?this._endLevel.setText("Enjoy Crosmo Shooter"):this._endLevel.setText("Level ".concat(n," completed")):"newEnemy"===t&&(-1===n?this._newEnemy.setText(""):this._newEnemy.setText("A new kind of enemy appears"))}},{key:"setLives",value:function(){this._lives=[];for(var e=this._width,t=0;t<this._startingLives;t++){var n=this.add.image(e-32-40*t,35,Y.graphicAssets.lifeEmpty.name);this._lives.push(n)}for(var s=0;s<this.registry.values.playerLives;s++){var i=this.add.image(e-32-40*s,35,Y.graphicAssets.lifeFull.name);this._lives[s]=i}}}]),n}(an.a.Scene),Un=function(e){Object(ln.a)(n,e);var t=Object(cn.a)(n);function n(){var e;return Object(rn.a)(this,n),(e=t.call(this,"gameOver"))._contentText=void 0,e._mainMenuButton=void 0,e._playAgainButton=void 0,e._tokenRewarded=void 0,e._canPlay=void 0,e._shipDamaged=void 0,e._tokenRewarded=!1,e._canPlay=!1,e._shipDamaged=!1,e}return Object(on.a)(n,[{key:"create",value:function(e){var t=this;Et.dispatch(Ue(!0)),Y.fontAssets.gameoverFontStyle.fontSize="50px",this.add.text(this.cameras.main.centerX,this.cameras.main.centerY-100,"GAME OVER",Y.fontAssets.gameoverFontStyle).setOrigin(.5),Y.fontAssets.gameoverFontStyle.fontSize="30px",this._contentText=this.add.text(this.cameras.main.centerX,this.cameras.main.centerY,"You did not get any score.",Y.fontAssets.gameoverFontStyle),this._contentText.setOrigin(.5),0!==e.score&&this._contentText.setText("You have reached a score of ".concat(e.score,". \n Sending ").concat(e.score," $CROSMO to rewards balance...")),this._mainMenuButton=this.add.text(this.cameras.main.centerX,this.cameras.main.centerY+70,"",Y.fontAssets.gameoverFontStyle),this._mainMenuButton.setOrigin(.5),this._mainMenuButton.setInteractive(),this._mainMenuButton.on("pointerdown",(function(){t._mainMenuButton.setColor("#4c1a03")})),this._mainMenuButton.on("pointerup",(function(){t._mainMenuButton.setColor("#ff601a"),t.gotoMenu()})),this._playAgainButton=this.add.text(this.cameras.main.centerX,this.cameras.main.centerY+120,"",Y.fontAssets.gameoverFontStyle),this._playAgainButton.setOrigin(.5),this._playAgainButton.setInteractive(),this._playAgainButton.on("pointerdown",(function(){t._playAgainButton.setColor("#4c1a03")})),this._playAgainButton.on("pointerup",(function(){t._playAgainButton.setColor("#ff601a"),t.startGame()})),yn.on(hn.TOKEN_REWARDED,(function(){t._tokenRewarded=!0}),this),yn.on(hn.CAN_PLAY,(function(){t._contentText.setText(""),t._mainMenuButton.setText("Main Menu"),t._playAgainButton.setText("Play Again"),t._canPlay=!0}),this),yn.on(hn.SHIP_DAMAGED,(function(){t._contentText.setText("Your ship is damaged."),t._mainMenuButton.setText("Main Menu"),t._shipDamaged=!0}),this)}},{key:"gotoMenu",value:function(){window.location.href="/"}},{key:"startGame",value:function(){this._canPlay=!1,this.scene.start("play")}}]),n}(an.a.Scene),Nn={type:an.a.AUTO,parent:"phaser-game",backgroundColor:"black",pixelArt:!1,scale:{mode:an.a.Scale.ScaleModes.RESIZE,width:"100%",height:"100%"},physics:{default:"arcade",arcade:{gravity:{y:0},debug:!1}},autoFocus:!0,scene:[bn,Bn,Cn,Un]},Dn=new an.a.Game(Nn);window.game=Dn;var Fn=Dn;Ut.a.use([Nt.a]);var zn,Vn,Yn,Gn,Hn,Wn,Kn,Xn,Jn,qn,Zn,$n,Qn,es,ts,ns,ss,is,as,rs,os,ls,cs,ps,ds,us,hs,ys,ms,bs,gs,fs,_s,vs,xs,ws,Os,js=function(e){var t=e.craftInstance,n=e.shooterInstance,s=e.tokenInstance,i=e.pilotInstance,r=e.account,o=e.setBg,l=e.setIsGamePlaying,c=e.keyboard,d=e.isPlayEndless,u=e.difficulty,h=b((function(e){return e.room.lobbyJoined})),y=Object(a.useState)(""),m=Object(p.a)(y,2),f=m[0],x=m[1],w=Object(a.useState)(!1),O=Object(p.a)(w,2),j=O[0],E=O[1],S=Object(a.useState)(""),A=Object(p.a)(S,2),k=A[0],L=A[1],M=Object(a.useState)(""),R=Object(p.a)(M,2),I=R[0],B=R[1],C=Object(a.useState)([]),U=Object(p.a)(C,2),N=U[0],D=U[1],F=Object(a.useState)(!1),z=Object(p.a)(F,2),V=z[0],Y=z[1],G=Object(a.useState)(!1),H=Object(p.a)(G,2),W=H[0],K=H[1],X=Object(a.useState)(0),J=Object(p.a)(X,2),q=J[0],Z=J[1],$=Object(a.useState)(0),Q=Object(p.a)($,2),ee=Q[0],te=Q[1],ne=Object(a.useState)(0),se=Object(p.a)(ne,2),ie=se[0],ae=se[1],re=Object(a.useState)(!1),oe=Object(p.a)(re,2),le=oe[0],ce=oe[1];Object(a.useEffect)((function(){var e=function(){var e=Object(g.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();d&&e()}),[d]);var pe=function(){var e=Object(g.a)(_.a.mark((function e(){var a,o,l,c,p,d,u,h,y,m,b,g,f,v,w,O,j,T,S;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B("fetching"),e.next=3,t.balanceOf(r);case 3:return a=e.sent,o=Number(a),e.next=7,n.getRewardBalance(r);case 7:return l=e.sent,Z(Number(l)/Math.pow(10,18)),e.next=11,s.balanceOf(r);case 11:return c=e.sent,te(Number(c)/Math.pow(10,18)),e.next=15,i.balanceOf(r);case 15:if(p=e.sent,!((d=Number(p))>0)){e.next=33;break}case 18:if(!(d>0)){e.next=33;break}return e.prev=19,--d,e.next=23,i.tokenOfOwnerByIndex(r,d);case 23:u=e.sent,(h=Number(u))<=1e3?Y(!0):h>2e3&&K(!0),e.next=31;break;case 28:e.prev=28,e.t0=e.catch(19),console.log("error in pilot",e.t0);case 31:e.next=18;break;case 33:if(!(o>0)){e.next=69;break}y=[];case 35:if(!(o>0)){e.next=65;break}return e.prev=36,--o,e.next=40,t.tokenOfOwnerByIndex(r,o);case 40:return m=e.sent,b=Number(m),e.next=44,t.tokenURI(b);case 44:return g=e.sent,e.next=47,n.getCraftStatus(b);case 47:return f=e.sent,e.next=50,At.a.get(g);case 50:v=e.sent,w=v.data.name,O="",j=!1,T=!1,v.data.attributes.map((function(e){"Spaceship"===e.trait_type&&(O=e.value.split(" ")[0]),"Force Shield"===e.trait_type&&(j="Yes"===e.value),"Damaged"===e.trait_type&&(T="Yes"===e.value)})),S={name:w,tokenId:b,color:O,hasShield:j,isBroken:T,tier:f[1],damagedLevel:f[2]},y.push(S),e.next=63;break;case 60:e.prev=60,e.t1=e.catch(36),setTimeout((function(){o=a-1,y=[],pe()}),1e3);case 63:e.next=35;break;case 65:D(Object(Rt.a)(y)),B("fetched"),e.next=72;break;case 69:L("error"),x("You don't have a NFT. Please purchase one!"),E(!0);case 72:case"end":return e.stop()}}),e,null,[[19,28],[36,60]])})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(g.a)(_.a.mark((function e(){var t,n,s,i,a,p,d,y,m,b,g;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mt.auth.login(r);case 2:if(!(t=e.sent).error){e.next=8;break}return L("error"),x(t.error),E(!0),e.abrupt("return");case 8:localStorage.setItem("jwt",JSON.stringify(t)),n=N[ie].tokenId,s=N[ie].name,i=N[ie].tier,a=N[ie].damagedLevel,p=N[ie].color,d=N[ie].isBroken,y=N[ie].hasShield,Et.dispatch(Ne(n)),Et.dispatch(De(s)),Et.dispatch(Fe(i)),m={account:r,tokenId:n,shipName:s,tier:i,damagedLevel:a,shipColor:p,isBroken:d,hasShield:y},b={hasCombat:V,difficulty:u,keyboard:c},a>=5?(L("error"),x("Your craft is damaged."),E(!0)):h?(g=Fn.scene.keys.boot)._network.joinOrCreatePublic().then((function(){g.startGame(m,b),l(!0),o("")})).catch((function(e){return console.error("error in joinOrCreatePublic",e)})):(L("error"),x("Trying to connect to server, please try again!"),E(!0));case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=Object(g.a)(_.a.mark((function e(){var t,i,a,o,l,c,p,d,u;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ce(!0),e.prev=1,e.next=4,s.allowance(r,T);case 4:if(t=e.sent,!new It.BigNumber(t.toString()).eq(new It.BigNumber("0"))){e.next=14;break}return e.next=8,s.approve(T,"99999999999999999999999999999999999999999999999999999999999");case 8:return i=e.sent,e.next=11,i.wait();case 11:a=e.sent,o=a.events,o[0].transactionHash;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),console.log("error in approve",e.t0),ce(!1);case 20:if(!((l=N[ie].tier)<5)){e.next=49;break}if(!(ee>=Ae[l+1]*(W?.95:1))){e.next=44;break}return e.prev=23,e.next=26,n.upgradeCraft(N[ie].tokenId);case 26:return c=e.sent,e.next=29,c.wait();case 29:p=e.sent,d=p.events,d[0].transactionHash&&(u=N.map((function(e,t){return t===ie&&(e.name=Se[l+1],e.tier=l+1),e})),D(Object(Rt.a)(u)),te(ee-Ae[l+1]*(W?.95:1)),L("success"),x("Crosmocraft has been upgraded."),E(!0)),e.next=42;break;case 35:e.prev=35,e.t1=e.catch(23),console.log("error in upgradeCraft",e.t1),x("Error occurred in upgrading Crosmocraft."),E(!0),ce(!1),ce(!1);case 42:e.next=47;break;case 44:L("error"),x("You need ".concat(Ae[l+1]*(W?.95:1)," $CROSMO for ").concat(Se[l+1]," Level.")),E(!0);case 47:e.next=52;break;case 49:L("success"),x("Your craft is the top level."),E(!0);case 52:ce(!1);case 53:case"end":return e.stop()}}),e,null,[[1,16],[23,35]])})));return function(){return e.apply(this,arguments)}}(),he=function(){var e=Object(g.a)(_.a.mark((function e(){var t,s,i;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ce(!0),!(q>0)){e.next=23;break}return e.prev=2,e.next=5,n.claimReward();case 5:return t=e.sent,e.next=8,t.wait();case 8:s=e.sent,i=s.events,i[0].transactionHash&&(L("success"),x("".concat(q.toFixed(1),"$CROSMO has claimed.")),E(!0),te(ee+q),Z(0)),e.next=21;break;case 14:e.prev=14,e.t0=e.catch(2),console.log("error in claimReward",e.t0),L("error"),x("Error occurred in claiming reward."),E(!0),ce(!1);case 21:e.next=26;break;case 23:L("error"),x("You don't have any reward token."),E(!0);case 26:ce(!1);case 27:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(){return e.apply(this,arguments)}}(),ye=Object(a.useRef)(null);return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(Gt,{children:Object(P.jsxs)(Ht,{children:["fetching"===I&&Object(P.jsxs)(v.a,{sx:{display:"block",textAlign:"center"},children:[Object(P.jsx)(Jt,{children:"Fetching NFT from your wallet ..."}),Object(P.jsx)(Pt.a,{sx:{mt:2}})]}),"fetched"===I&&Object(P.jsxs)(Wt,{children:[Object(P.jsxs)(Kt,{children:[Object(P.jsx)(Xt,{children:Object(P.jsx)("img",{src:"assets/images/avatar_title.png",alt:"title"})}),Object(P.jsxs)(qt,{children:[Object(P.jsx)($t,{onClick:function(){return ye.current.swiper.slidePrev()},children:Object(P.jsx)("img",{src:"assets/images/avatar_prev.png",alt:"prev"})}),Object(P.jsx)(Zt,{children:Object(P.jsx)(Bt.a,{ref:ye,navigation:!0,spaceBetween:0,slidesPerView:1,onSlideChange:function(e){ae(e.activeIndex)},children:N.map((function(e){return Object(P.jsx)(Ct.a,{children:Object(P.jsxs)("div",{children:[Object(P.jsx)("img",{className:"ship",src:"assets/images/avatar_".concat(e.color,".png"),alt:e.name}),e.hasShield&&Object(P.jsx)("img",{className:"shield",src:"assets/images/avatar_shield.png",alt:e.name}),Object(P.jsx)("img",{className:"tier",src:"assets/images/league_".concat(e.tier,".png"),alt:e.name}),e.isBroken&&Object(P.jsx)("img",{className:"broken",src:"assets/images/avatar_broken.png",alt:e.name}),Object(P.jsx)("p",{className:"name",children:e.name}),0!==e.tier&&Object(P.jsx)("p",{className:"tier",children:Se[e.tier]})]})},e.tokenId)}))})}),Object(P.jsx)($t,{onClick:function(){return ye.current.swiper.slideNext()},children:Object(P.jsx)("img",{src:"assets/images/avatar_next.png",alt:"next"})})]})]}),Object(P.jsxs)(Qt,{children:[Object(P.jsxs)(en,{children:["Claimable $CROSMO: ",q.toFixed(1)]}),Object(P.jsx)(tn,{onClick:he,children:"Claim Reward"}),Object(P.jsxs)(en,{children:["$CROSMO Balance: ",ee.toFixed(1)]}),Object(P.jsx)(tn,{onClick:ue,children:5!==N[ie].tier&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("img",{src:"assets/images/upgrade.png",width:30,height:30})," to ",Se[N[ie].tier+1]," : ",Ae[N[ie].tier+1]*(W?.95:1)]})}),Object(P.jsx)(nn,{onClick:de,children:"PLAY"})]})]})]})}),Object(P.jsx)(Yt,{noticeMsg:f,showNotice:j,setShowNotice:E,severity:k}),le&&Object(P.jsx)(v.a,{sx:{position:"fixed",width:"100%",height:"100%",background:"rgba(0, 0, 0, .5)",top:0,left:0,pointerEvents:"stroke",zIndex:999},children:Object(P.jsx)(v.a,{sx:{position:"absolute",display:"flex",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"white"},children:Object(P.jsx)(Pt.a,{sx:{color:"inherit"}})})})]})},Ts=n(611),Es=Object(Ts.a)((function(){return{root:{borderRadius:5,height:10,width:"100%",border:"2px solid #ffe2b8"},colorPrimary:{backgroundColor:"#39260b"},bar:{borderRadius:5,backgroundColor:"#fff"}}}))(m.a),Ss=Object(Ts.a)((function(){return{root:{borderRadius:5,width:"100%",height:10,border:"2px solid #2099e5"},colorPrimary:{backgroundColor:"#0b1939"},bar:{borderRadius:5,backgroundColor:"#235aa5"}}}))(m.a),As=function(e){var t=e.specialKey,n=Object(a.useState)(0),s=Object(p.a)(n,2),i=s[0],r=s[1],o=Object(a.useState)(0),l=Object(p.a)(o,2),c=l[0],d=l[1],u=b((function(e){return e.phaser.bulletName})),h=b((function(e){return e.phaser.bulletDuration})),y=b((function(e){return e.phaser.bulletChanged})),m=b((function(e){return e.phaser.shieldName})),g=b((function(e){return e.phaser.shieldDuration})),f=b((function(e){return e.phaser.shieldChanged})),_=b((function(e){return e.phaser.hasAtomic})),x=h-.15,w=g-.15;return Object(a.useEffect)((function(){var e=setInterval((function(){r(x/h*100),x<=0&&(r(0),clearInterval(e)),x-=.25}),250);return function(){clearInterval(e)}}),[u,h,y]),Object(a.useEffect)((function(){var e=setInterval((function(){d(w/g*100),w<=0&&(d(0),clearInterval(e)),w-=.25}),250);return function(){clearInterval(e)}}),[m,g,f]),Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(v.a,{sx:{display:"flex",justifyContent:"flex-end",height:70,mr:"10px"},children:0!==c&&Object(P.jsxs)(v.a,{sx:{textAlign:"right",mt:"60px"},children:[Object(P.jsx)(v.a,{sx:{width:210,transform:"rotate(180deg)"},children:Object(P.jsx)(Ss,{variant:"determinate",value:c})}),Object(P.jsx)(O.a,{sx:{fontSize:"20px",color:"#24c2bc"},children:"SHIELD"})]})}),Object(P.jsx)(v.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(P.jsx)(v.a,{sx:{width:"calc(100vh - 220px)",transform:"translate(42%, 20px)"},children:Object(P.jsx)(v.a,{sx:{width:"100%",transform:"rotate(-90deg) translateX(-50%)",flexDirection:"row-reverse",display:"flex",alignItems:"center"},children:0!==i&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(Es,{variant:"determinate",value:i}),Object(P.jsx)(v.a,{sx:{transform:"rotate(90deg)"},children:Object(P.jsx)("img",{src:"assets/images/icon_".concat(u,".png"),alt:"airdrop icon"})})]})})})}),_&&Object(P.jsxs)(O.a,{sx:{color:"white",position:"absolute",bottom:"65px",right:"20px",fontSize:"20px"},children:['Press "',t,'" to use atomic bomb']})]})},ks=y.b.div(zn||(zn=Object(d.a)(["\n  position: fixed;\n  width: 100vw;\n  height: 100vh;\n  top: 0;\n  background: #00000066;\n"]))),Ls=y.b.div(Vn||(Vn=Object(d.a)(["\n  background: url('assets/images/bg_leaderboard.png');\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 1100px;\n  height: 605px;\n  background-size: contain;\n  color: white;\n  font-size: 25px;\n"]))),Ms=y.b.div(Yn||(Yn=Object(d.a)(["\n  width: 92%;\n  height: 83%;\n  margin: 5.5% auto;\n"]))),Rs=y.b.div(Gn||(Gn=Object(d.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  img.leagues {\n    width: 150px;\n  }\n  \n  img.close {\n    width: 50px;\n    cursor: pointer;\n  }\n"]))),Is=y.b.div(Hn||(Hn=Object(d.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  img.league {\n    height: 33px;\n    margin-left: -12px;\n    cursor: pointer;\n  }\n\n  img.default {\n    margin-right: 20px;\n  }\n"]))),Ps=y.b.div(Wn||(Wn=Object(d.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-top: 5px;\n\n  img.period {\n    width: 120px;\n    cursor: pointer;\n  }\n"]))),Bs=y.b.div(Kn||(Kn=Object(d.a)(["\n  height: 100%;\n  margin-top: 20px;\n"]))),Cs=y.b.div(Xn||(Xn=Object(d.a)(["\n  background: url('assets/images/lead_thead.png');\n  background-size: contain;\n  border: 1px solid black;\n  border-radius: 10px;\n  display: flex;\n  align-items: center;\n  width: calc(100% - 30px);\n\n  img {\n    height: 28px;\n    margin-top: 7px;\n  }\n"]))),Us=y.b.div(Jn||(Jn=Object(d.a)(["\n  height: calc(100% - 150px);\n  overflow-y: scroll;\n\n  /* width */\n  ::-webkit-scrollbar {\n    width: 20px;\n    margin-left: 10px;\n    background: #40808a;\n    border-radius: 8px;\n  }\n\n  /* Track */\n  ::-webkit-scrollbar-track {\n    border-radius: 8px;\n  }\n  \n  /* Handle */\n  ::-webkit-scrollbar-thumb {\n    background: white; \n    border-radius: 8px;\n  }\n\n  /* Handle on hover */\n  ::-webkit-scrollbar-thumb:hover {\n    background: wheat; \n  }\n"]))),Ns=y.b.div(qn||(qn=Object(d.a)(["\n  background: #40808a;\n  border: 1px solid black;\n  border-radius: 10px;\n  display: flex;\n  align-items: center;\n  height: 40px;\n  width: 99%;\n  margin-top: 3px;\n"]))),Ds=y.b.div(Zn||(Zn=Object(d.a)(["\n  width: 15%;\n  padding-left: 20px;\n"]))),Fs=y.b.div($n||($n=Object(d.a)(["\n  width: 55%;\n"]))),zs=y.b.div(Qn||(Qn=Object(d.a)(["\n  width: 30%;\n"]))),Vs=function(e){var t=e.scores,n=e.setIsLeaderboard,s=e.league,i=e.setLeague,a=e.period,r=e.setPeriod;return Object(P.jsx)(ks,{children:Object(P.jsx)(Ls,{children:Object(P.jsxs)(Ms,{children:[Object(P.jsxs)(Rs,{children:[Object(P.jsx)("img",{className:"leagues",src:"assets/images/lead_leagues.png",alt:"leagues"}),Object(P.jsxs)(Is,{children:[Object(P.jsx)("img",{className:"league default",onClick:function(){return i(0)},src:"assets/images/lead_default".concat(0===s?"_active":"",".png"),alt:"default"}),Object(P.jsx)("img",{className:"league",onClick:function(){return i(1)},src:"assets/images/lead_bronze".concat(1===s?"_active":"",".png"),alt:"bronze"}),Object(P.jsx)("img",{className:"league",onClick:function(){return i(2)},src:"assets/images/lead_silver".concat(2===s?"_active":"",".png"),alt:"silver"}),Object(P.jsx)("img",{className:"league",onClick:function(){return i(3)},src:"assets/images/lead_gold".concat(3===s?"_active":"",".png"),alt:"gold"}),Object(P.jsx)("img",{className:"league",onClick:function(){return i(4)},src:"assets/images/lead_diamond".concat(4===s?"_active":"",".png"),alt:"diamond"}),Object(P.jsx)("img",{className:"league",onClick:function(){return i(5)},src:"assets/images/lead_platinum".concat(5===s?"_active":"",".png"),alt:"platinum"})]}),Object(P.jsx)("img",{className:"close",src:"assets/images/btn_close.png",alt:"close",onClick:function(){return n(!1)}})]}),Object(P.jsxs)(Ps,{children:[Object(P.jsx)("img",{className:"period",onClick:function(){return r("weekly")},src:"assets/images/lead_weekly".concat("weekly"===a?"_active":"",".png"),alt:"weekly"}),Object(P.jsx)("img",{className:"period",onClick:function(){return r("monthly")},src:"assets/images/lead_monthly".concat("monthly"===a?"_active":"",".png"),alt:"monthly"}),Object(P.jsx)("img",{className:"period",onClick:function(){return r("all")},src:"assets/images/lead_all".concat("all"===a?"_active":"",".png"),alt:"all"})]}),Object(P.jsxs)(Bs,{children:[Object(P.jsxs)(Cs,{children:[Object(P.jsx)(Ds,{children:Object(P.jsx)("img",{src:"assets/images/lead_rank.png",alt:"rank"})}),Object(P.jsx)(Fs,{children:Object(P.jsx)("img",{src:"assets/images/lead_name.png",alt:"name"})}),Object(P.jsx)(zs,{children:Object(P.jsx)("img",{src:"assets/images/lead_score.png",alt:"name"})})]}),Object(P.jsxs)(Us,{children:[null===t||void 0===t?void 0:t.map((function(e,t){return Object(P.jsxs)(Ns,{children:[Object(P.jsx)(Ds,{children:t+1}),Object(P.jsx)(Fs,{children:e.shipName}),Object(P.jsx)(zs,{children:e.score})]},t)})),(!t||0===t.length)&&Object(P.jsx)("div",{style:{textAlign:"center",marginTop:20},children:"There is no data"})]})]})]})})})},Ys=n(294),Gs=y.b.div(es||(es=Object(d.a)(["\n  position: fixed;\n  width: 100vw;\n  height: 100vh;\n  top: 0;\n  background: #00000066;\n"]))),Hs=y.b.div(ts||(ts=Object(d.a)(["\n  background: url('assets/images/bg_setting.png');\n  background-repeat: no-repeat;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 80%;\n  height: 86%;\n  max-width: 950px;\n  max-height: 529px;\n  background-size: contain;\n  color: white;\n  font-size: 20px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  img.close {\n    position: absolute;\n    top: 55px;\n    right: 29px;\n    width: 50px;\n    cursor: pointer;\n  }\n"]))),Ws=y.b.div(ns||(ns=Object(d.a)(["\n  width: 80%;\n  height: 78%;\n  margin-top: 20px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n"]))),Ks=y.b.div(ss||(ss=Object(d.a)(["\n  height: 44px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 80px;\n  background: ",";\n  border: 2px solid #234955;\n  border-radius: 10px;\n  cursor: pointer;\n  color: ",";\n"])),(function(e){return e.selected?"#0b171a":"#12262c"}),(function(e){return e.selected?"var(--color-yellow)":"white"})),Xs=y.b.div(is||(is=Object(d.a)(["\n\n"]))),Js=y.b.div(as||(as=Object(d.a)(["\n\n"]))),qs=function(e){var t=e.setIsSetting,n=e.keyboard,s=e.setKeboard,i=[{key:"forward",label:"Move Forward",keyboard:n.forward},{key:"left",label:"Move Left",keyboard:n.left},{key:"right",label:"Move Right",keyboard:n.right},{key:"brake",label:"Brake",keyboard:n.brake},{key:"fire",label:"Fire",keyboard:n.fire},{key:"special",label:"Special",keyboard:n.special},{key:"music",label:"Music ON/OFF",keyboard:n.music},{key:"sounds",label:"Sounds Effects ON/OFF",keyboard:n.sounds},{key:"exit",label:"Exit",keyboard:n.exit}],r=Object(a.useState)(void 0),o=Object(p.a)(r,2),l=o[0],c=o[1],d=Object(a.useState)(""),u=Object(p.a)(d,2),h=u[0],y=u[1];Object(a.useEffect)((function(){c(i)}),[]);var m=function(e){return" "===e?"SPACE":"Escape"===e?"ESC":e.startsWith("Arrow")?e.replace("Arrow","").toUpperCase():e.toUpperCase()};return Object(P.jsx)(Gs,{children:Object(P.jsxs)(Hs,{children:[Object(P.jsx)(Ws,{children:null===l||void 0===l?void 0:l.map((function(e,t){return Object(P.jsxs)(Ks,{selected:e.key===h,onClick:function(){return y(e.key)},children:[Object(P.jsx)(Xs,{children:e.label}),Object(P.jsx)(Js,{children:e.keyboard})]},t)}))}),Object(P.jsx)("img",{className:"close",src:"assets/images/btn_close.png",alt:"close",onClick:function(){return t(!1)}}),Object(P.jsx)(Ys.a,{keyName:"a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,space,esc,up,down,left,right",onKeyDown:function(e,t,n){if(""!==h){a=t.key,s((function(e){return Object(Dt.a)(Object(Dt.a)({},e),{},Object(M.a)({},h,m(a)))}));var i=l.map((function(e){return e.key===h&&(e.keyboard=m(t.key)),e}));c(Object(Rt.a)(i)),y("")}var a}})]})})},Zs=y.b.div(rs||(rs=Object(d.a)(["\n  position: fixed;\n  width: 100vw;\n  height: 100vh;\n  top: 0;\n  background: #00000066;\n"]))),$s=y.b.div(os||(os=Object(d.a)(["\n  background: url('assets/images/bg_difficulty.png');\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 500px;\n  height: 600px;\n  background-size: contain;\n  color: white;\n  font-size: 30px;\n"]))),Qs=y.b.div(ls||(ls=Object(d.a)(["\n  height: 100%;\n  text-align: center;\n\n  img.close {\n    position: absolute;\n    width: 50px;\n    cursor: pointer;\n    right: 35px;\n    top: 80px;\n  }\n"]))),ei=y.b.div(cs||(cs=Object(d.a)(["\n  margin-top: 160px;\n  margin-bottom: 50px;\n"]))),ti=y.b.div(ps||(ps=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n\n  img.difficulty {\n    width: 150px;\n    margin-top: 10px;\n    cursor: pointer;\n  }\n"]))),ni=function(e){var t=e.setIsDifficulty,n=e.difficulty,s=e.setDifficulty;return Object(P.jsx)(Zs,{children:Object(P.jsx)($s,{children:Object(P.jsxs)(Qs,{children:[Object(P.jsx)(ei,{children:"CHOOSE YOUR DIFFICULTY"}),Object(P.jsxs)(ti,{children:[Object(P.jsx)("img",{className:"difficulty",onClick:function(){return s("easy")},src:"assets/images/difficulty_easy".concat("easy"===n?"_active":"",".png"),alt:"easy"}),Object(P.jsx)("img",{className:"difficulty",onClick:function(){return s("medium")},src:"assets/images/difficulty_medium".concat("medium"===n?"_active":"",".png"),alt:"medium"}),Object(P.jsx)("img",{className:"difficulty",onClick:function(){return s("hard")},src:"assets/images/difficulty_hard".concat("hard"===n?"_active":"",".png"),alt:"hard"}),Object(P.jsx)("img",{className:"difficulty",onClick:function(){return s("extreme")},src:"assets/images/difficulty_extreme".concat("extreme"===n?"_active":"",".png"),alt:"extreme"})]}),Object(P.jsx)("img",{className:"close",src:"assets/images/btn_close.png",alt:"close",onClick:function(){return t(!1)}})]})})})},si=y.b.div(ds||(ds=Object(d.a)(["\n  position: fixed;\n  width: 100vw;\n  height: 100vh;\n  top: 0;\n  background: #00000066;\n"]))),ii=y.b.div(us||(us=Object(d.a)(["\n  background: url('assets/images/bg_confirm.png');\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 530px;\n  height: 310px;\n  background-size: contain;\n  display: flex;\n  align-items: flex-end;\n  justify-content: center;\n"]))),ai=y.b.div(hs||(hs=Object(d.a)(["\n  width: 44%;\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 55px;\n  \n  img {\n    width: 110px;\n    cursor: pointer;\n  }\n"]))),ri=function(){return Object(P.jsx)(si,{children:Object(P.jsx)(ii,{children:Object(P.jsxs)(ai,{children:[Object(P.jsx)("img",{src:"assets/images/btn_yes.png",alt:"yes",onClick:function(){return yn.emit(hn.EXIST_GAME),void Et.dispatch(pt(!1))}}),Object(P.jsx)("img",{src:"assets/images/btn_no.png",alt:"no",onClick:function(){return Et.dispatch(pt(!1))}})]})})})},oi=[{inputs:[{internalType:"string",name:"_initBaseURI",type:"string"},{internalType:"address",name:"_shipParts",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"SHIP1",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"SHIP2",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"SHIP3",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"adminAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"airDropNFT",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"baseExtension",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"canMint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"curIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getInfo",outputs:[{components:[{internalType:"uint256",name:"regularCost",type:"uint256"},{internalType:"uint256",name:"memberCost",type:"uint256"},{internalType:"uint256",name:"whitelistCost",type:"uint256"},{internalType:"uint256",name:"maxSupply",type:"uint256"},{internalType:"uint256",name:"totalSupply",type:"uint256"},{internalType:"uint256",name:"maxMintPerAddress",type:"uint256"},{internalType:"uint256",name:"maxMintPerTx",type:"uint256"}],internalType:"struct IDrop.Info",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"greatId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"greatMaxSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"legendId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"legendMaxSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxMintAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32",name:"shipType",type:"bytes32"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"mintCost",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bool",name:"_state",type:"bool"}],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"regularId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"regularMaxSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"_holders",type:"address[]"},{internalType:"uint256[]",name:"_counts",type:"uint256[]"}],name:"setAirDropCounts",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_newBaseExtension",type:"string"}],name:"setBaseExtension",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_newBaseURI",type:"string"}],name:"setBaseURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"shipParts",outputs:[{internalType:"contract ShipItems",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"walletOfOwner",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"withdrawAll",outputs:[],stateMutability:"nonpayable",type:"function"}],li=[{inputs:[{internalType:"address",name:"_crosmoToken",type:"address"},{internalType:"address",name:"_crosmoCraft",type:"address"},{internalType:"address",name:"_crosmoStation",type:"address"},{internalType:"address",name:"_crosmoPilot",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"REPAIRE_COOLDOWN",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"UPGRADE_COST",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"claimReward",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"craftStatus",outputs:[{internalType:"uint256",name:"lastUpdated",type:"uint256"},{internalType:"uint8",name:"tier",type:"uint8"},{internalType:"uint8",name:"damgagedLevel",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"crosmoCraft",outputs:[{internalType:"contract IERC721",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"crosmoPilot",outputs:[{internalType:"contract IERC721",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"crosmoStation",outputs:[{internalType:"contract IERC721",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"crosmoToken",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"craftID",type:"uint256"}],name:"getCraftStatus",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint8",name:"",type:"uint8"},{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_player",type:"address"}],name:"getRewardBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"player",type:"address"}],name:"hasCrosmoStation",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"score",type:"uint256"},{internalType:"address",name:"player",type:"address"},{internalType:"uint256",name:"craftID",type:"uint256"}],name:"playSession",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"rewardBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"scale",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"craftID",type:"uint256"}],name:"updateCraftStatus",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"craftID",type:"uint256"}],name:"upgradeCraft",outputs:[],stateMutability:"nonpayable",type:"function"}],ci=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],pi=[{inputs:[{internalType:"address",name:"_marketAddress",type:"address"},{internalType:"address",name:"_artist",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[{internalType:"address[]",name:"_addresses",type:"address[]"}],name:"addWhiteList",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"addWhiteListAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"artist",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_minter",type:"address"}],name:"canMint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getInfo",outputs:[{components:[{internalType:"uint256",name:"regularCost",type:"uint256"},{internalType:"uint256",name:"memberCost",type:"uint256"},{internalType:"uint256",name:"whitelistCost",type:"uint256"},{internalType:"uint256",name:"maxSupply",type:"uint256"},{internalType:"uint256",name:"totalSupply",type:"uint256"},{internalType:"uint256",name:"maxMintPerAddress",type:"uint256"},{internalType:"uint256",name:"maxMintPerTx",type:"uint256"}],internalType:"struct IDrop.Info",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"player",type:"address"},{internalType:"uint8",name:"_type",type:"uint8"}],name:"hasSpecificTypePilot",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"isMember",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"isWhiteList",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"marketContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_minter",type:"address"}],name:"mintCost",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"dest",type:"address"}],name:"payments",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"removeWhiteList",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newArtistAddress",type:"address"}],name:"setArtistAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_baseURI",type:"string"}],name:"setBaseURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newMarketAddress",type:"address"}],name:"setMarketAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_max",type:"uint256"}],name:"setMaxPerWallet",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_cost",type:"uint256"}],name:"setMemberPrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_cost",type:"uint256"}],name:"setRegularPrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_cost",type:"uint256"}],name:"setWhitelistPrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"payee",type:"address"}],name:"withdrawPayments",outputs:[],stateMutability:"nonpayable",type:"function"}],di=y.b.div(ys||(ys=Object(d.a)(["\n  position: absolute;\n  height: ",";\n  width: 100%;\n"])),(function(e){return e.isPlayEndless?"100vh":"calc(100vh - 220px)"})),ui=y.b.div(ms||(ms=Object(d.a)(["\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background-position: center;\n  background-size: cover;\n}\n"]))),hi=y.b.div(bs||(bs=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n"]))),yi=y.b.div(gs||(gs=Object(d.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  img {\n    max-width: 770px;\n    width: 70%;\n    margin-top: -110px;\n    margin-left: 9%;\n  }\n"]))),mi=y.b.div(fs||(fs=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  \n  img {\n    width: auto;\n    margin: 0 auto;\n    cursor: pointer;\n  }\n  \n  img.play {\n    height: 55px;\n    margin-top: 3px;\n  }\n  \n  img.setting {\n    height: 45px;\n    margin-top: 5px;\n  }\n"]))),bi=y.b.div(_s||(_s=Object(d.a)(["\n  position: absolute;\n  right: 15px;\n  bottom: -50px;\n\n  img {\n    width: 90px;\n    cursor: pointer;\n  }\n"]))),gi=function(e){var t,n=e.account,s=e.web3Provider,i=e.chainId,r=e.setBg,o=e.setIsGamePlaying,l=Object(h.g)(),c=b((function(e){return e.user.loggedIn})),d=b((function(e){return e.room.roomJoined})),u=b((function(e){return e.user.gameOver})),y=b((function(e){return e.user.tokenId})),m=b((function(e){return e.user.shipName})),f=b((function(e){return e.user.tier})),v=Object(a.useState)(null),x=Object(p.a)(v,2),w=x[0],O=x[1],S=Object(a.useState)(null),A=Object(p.a)(S,2),k=A[0],L=A[1],M=Object(a.useState)(null),R=Object(p.a)(M,2),I=R[0],B=R[1],C=Object(a.useState)(null),U=Object(p.a)(C,2),N=U[0],D=U[1],F=Object(a.useState)(!1),z=Object(p.a)(F,2),V=z[0],Y=z[1],G=Object(a.useState)(!1),H=Object(p.a)(G,2),W=H[0],K=H[1],X=Object(a.useState)(!1),J=Object(p.a)(X,2),q=J[0],Z=J[1],$=Object(a.useState)(!1),Q=Object(p.a)($,2),ee=Q[0],te=Q[1],ne=b((function(e){return e.phaser.isExist})),se=Object(a.useState)(void 0),ie=Object(p.a)(se,2),ae=ie[0],re=ie[1],oe=Object(a.useState)(void 0),le=Object(p.a)(oe,2),ce=le[0],pe=le[1],de=Object(a.useState)(""),ue=Object(p.a)(de,2),he=ue[0],ye=ue[1],me=Object(a.useState)("monthly"),be=Object(p.a)(me,2),ge=be[0],fe=be[1],_e=Object(a.useState)(0),ve=Object(p.a)(_e,2),xe=ve[0],we=ve[1],Oe=Object(a.useState)(""),je=Object(p.a)(Oe,2),Te=je[0],Ee=je[1],Se=Object(a.useState)(!1),Ae=Object(p.a)(Se,2),ke=Ae[0],Le=Ae[1],Me=Object(a.useState)(""),Re=Object(p.a)(Me,2),Ie=Re[0],Pe=Re[1];Object(a.useEffect)((function(){if(void 0!==n&&i===E.testnet.chainId){var e=new j.a.Contract("0x9D3D20851a13eF6371De9D42E08dED55AD9e7AAA",oi,s),t=new j.a.Contract(T,li,s),a=new j.a.Contract("0x34BB1B505Fd1e1c09F2A89fCcbf914Ca8Cee7aa6",ci,s),r=new j.a.Contract("0x513087DfFa213E8680a4C59a039ADBFced192A11",pi,s);O(e.connect(s.getSigner())),L(t.connect(s.getSigner())),B(a.connect(s.getSigner())),D(r.connect(s.getSigner()))}}),[n,i]),Object(a.useEffect)((function(){var e=function(){var e=Object(g.a)(_.a.mark((function e(){var t,s;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mt.score.saveScore(n,y.toString(),m,f);case 2:return e.sent,Et.dispatch(Ue(!1)),e.next=6,k.getCraftStatus(y);case 6:t=e.sent,s=t[2],yn.emit(hn.TOKEN_REWARDED),s<5?yn.emit(hn.CAN_PLAY):yn.emit(hn.SHIP_DAMAGED);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();u&&e()}),[u]),Object(a.useEffect)((function(){var e=function(){var e=Object(g.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mt.score.getScores(ge,xe);case 2:t=e.sent,re(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[ge,xe]),Object(a.useEffect)((function(){var e="null"!==localStorage.getItem("forward")?localStorage.getItem("forward"):"W",t="null"!==localStorage.getItem("left")?localStorage.getItem("left"):"A",n="null"!==localStorage.getItem("right")?localStorage.getItem("right"):"D",s="null"!==localStorage.getItem("brake")?localStorage.getItem("brake"):"S",i="null"!==localStorage.getItem("fire")?localStorage.getItem("fire"):"SPACE",a="null"!==localStorage.getItem("special")?localStorage.getItem("special"):"Q",r="null"!==localStorage.getItem("music")?localStorage.getItem("music"):"Y",o="null"!==localStorage.getItem("sounds")?localStorage.getItem("sounds"):"U",l="null"!==localStorage.getItem("exit")?localStorage.getItem("exit"):"ESC";pe({forward:e,left:t,right:n,brake:s,fire:i,special:a,music:r,sounds:o,exit:l});var c="undefined"!==localStorage.getItem("difficulty")?localStorage.getItem("difficulty"):"easy";ye(c)}),[]),Object(a.useEffect)((function(){localStorage.setItem("forward",null===ce||void 0===ce?void 0:ce.forward),localStorage.setItem("left",null===ce||void 0===ce?void 0:ce.left),localStorage.setItem("right",null===ce||void 0===ce?void 0:ce.right),localStorage.setItem("brake",null===ce||void 0===ce?void 0:ce.brake),localStorage.setItem("fire",null===ce||void 0===ce?void 0:ce.fire),localStorage.setItem("special",null===ce||void 0===ce?void 0:ce.special),localStorage.setItem("music",null===ce||void 0===ce?void 0:ce.music),localStorage.setItem("sounds",null===ce||void 0===ce?void 0:ce.sounds),localStorage.setItem("exit",null===ce||void 0===ce?void 0:ce.exit)}),[ce]),Object(a.useEffect)((function(){localStorage.setItem("difficulty",he||void 0)}),[he]),yn.on(hn.GOTO_MAINMENU,(function(){console.log("called goto main menu"),o(!1),r("bg_shooter"),l("/")}));return t=V?d||c?Object(P.jsx)(As,{specialKey:ce.special}):Object(P.jsx)(ui,{children:Object(P.jsx)(js,{craftInstance:w,shooterInstance:k,tokenInstance:I,pilotInstance:N,account:n,setBg:r,setIsGamePlaying:o,keyboard:ce,isPlayEndless:V,difficulty:he})}):Object(P.jsxs)(hi,{children:[Object(P.jsx)(yi,{children:Object(P.jsx)("img",{src:"assets/images/title.png",alt:"title"})}),Object(P.jsxs)(mi,{children:[Object(P.jsx)("img",{className:"play",src:"assets/images/btn_playendless.png",alt:"play endless",onClick:function(){n?(Y(!0),r("bg_shooter")):(Pe("error"),Ee("Please connect your wallet first."),Le(!0))}}),Object(P.jsx)("img",{className:"play",src:"assets/images/btn_crosmostation.png",alt:"enter crosmostation"}),Object(P.jsx)("img",{className:"setting",src:"assets/images/btn_difficulty.png",alt:"difficulty",onClick:function(){return te(!0)}}),Object(P.jsx)("img",{className:"setting",src:"assets/images/btn_highscores.png",alt:"high scores",onClick:function(){return Z(!0)}})]}),Object(P.jsx)(bi,{children:Object(P.jsx)("img",{src:"assets/images/btn_setting.png",alt:"setting",onClick:function(){return K(!0)}})}),Object(P.jsx)(Yt,{noticeMsg:Te,showNotice:ke,setShowNotice:Le,severity:Ie})]}),Object(P.jsxs)(di,{isPlayEndless:V,children:[t,ne&&Object(P.jsx)(ri,{}),W&&Object(P.jsx)(qs,{setIsSetting:K,keyboard:ce,setKeboard:pe}),q&&Object(P.jsx)(Vs,{scores:ae,setIsLeaderboard:Z,league:xe,setLeague:we,period:ge,setPeriod:fe}),ee&&Object(P.jsx)(ni,{setIsDifficulty:te,difficulty:he,setDifficulty:ye})]})},fi=y.b.div(vs||(vs=Object(d.a)(["\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background: url('assets/images/",".png');\n  background-position: center;\n  background-size: cover;\n}\n"])),(function(e){return e.bg})),_i=y.b.div(xs||(xs=Object(d.a)(["\n  position: fixed;\n  bottom: 10px;\n  left: 50%;\n  transform: translate(-50%, 0%);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  color: #4a97d2;\n"]))),vi=y.b.div(ws||(ws=Object(d.a)(["\n  font-size: 20px;\n  color: white;\n  text-align: center;\n  font-weight: normal;\n"]))),xi=Object(y.b)(m.a)(Os||(Os=Object(d.a)(["\n  width: 360px;\n"]))),wi=function(){var e=b((function(e){return e.room.lobbyJoined})),t=Object(a.useState)({}),n=Object(p.a)(t,2),s=n[0],i=(s.walletProviderName,s.address),r=s.browserWeb3Provider,o=(s.serverWeb3Provider,s.connected,s.chainId),l=n[1],c=Object(a.useState)("bg_main"),d=Object(p.a)(c,2),y=d[0],m=d[1],g=Object(a.useState)(!1),f=Object(p.a)(g,2),_=f[0],v=f[1];return Object(P.jsxs)(fi,{bg:y,children:[Object(P.jsxs)(u.a,{children:[!_&&Object(P.jsx)(F,{account:i,setWallet:l,setBg:m}),Object(P.jsxs)(h.d,{children:[Object(P.jsx)(h.b,{path:"/",element:Object(P.jsx)(h.a,{to:"/shooter",replace:!0})}),Object(P.jsx)(h.b,{path:"shooter",element:Object(P.jsx)(gi,{account:i,web3Provider:r,chainId:o,setBg:m,setIsGamePlaying:v})})]})]}),!e&&Object(P.jsxs)(_i,{children:[Object(P.jsx)(vi,{children:" Connecting to server..."}),Object(P.jsx)(xi,{color:"inherit",sx:{mt:1}})]})]})},Oi=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,626)).then((function(t){var n=t.getCLS,s=t.getFID,i=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),s(e),i(e),a(e),r(e)}))};l.a.render(Object(P.jsx)(r.a.StrictMode,{children:Object(P.jsx)(c.a,{store:Et,children:Object(P.jsx)(wi,{})})}),document.getElementById("root")),Oi()}},[[560,1,2]]]);